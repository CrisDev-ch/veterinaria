{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/proyectos/nextjs/veterinaria/app/types/noticias.ts"],"sourcesContent":["// /app/types/noticias.ts\n\nexport type TipoBloque = \n  | \"titulo\" \n  | \"subtitulo\" \n  | \"texto\" \n  | \"imagen\" \n  | \"galeria\" \n  | \"gif\" \n  | \"video\" \n  | \"card_texto\" \n  | \"card_imagen\" \n  | \"card_mixta\" \n  | \"card_cta\" \n  | \"card_links\" \n  | \"banner\" \n  | \"carrusel\" \n  | \"slider\" \n  | \"testimonial\" \n  | \"lista_iconos\" \n  | \"tabla\" \n  | \"accordion\" \n  | \"tabs\" \n  | \"faq\" \n  | \"timeline\" \n  | \"cita\" \n  | \"social\" \n  | \"contador\" \n  | \"newsletter\" \n  | \"codigo\" \n  | \"espaciador\" \n  | \"grid\" \n  | \"flex\" \n  | \"cta\" \n  | \"separador\"\n  | \"boton\"\n  | \"spacer\"\n  | \"divider\";\n\nexport interface EstilosBloque {\n  color?: string;\n  background?: string;\n  backgroundImage?: string;\n  backgroundSize?: string;\n  backgroundPosition?: string;\n  padding?: string;\n  margin?: string;\n  borderRadius?: string;\n  border?: string;\n  boxShadow?: string;\n  textAlign?: \"left\" | \"center\" | \"right\" | \"justify\";\n  fontSize?: string;\n  fontWeight?: string;\n  fontFamily?: string;\n  width?: string;\n  height?: string;\n  maxWidth?: string;\n  minHeight?: string;\n  objectFit?: \"cover\" | \"contain\" | \"fill\" | \"none\";\n  opacity?: string;\n  display?: \"block\" | \"flex\" | \"grid\" | \"inline\" | \"inline-block\" | \"none\";\n  gridTemplateColumns?: string;\n  gridTemplateRows?: string;\n  gridGap?: string;\n  gap?: string;\n  flexDirection?: \"row\" | \"column\" | \"row-reverse\" | \"column-reverse\";\n  flexWrap?: \"wrap\" | \"nowrap\" | \"wrap-reverse\";\n  justifyContent?: \"flex-start\" | \"center\" | \"flex-end\" | \"space-between\" | \"space-around\" | \"space-evenly\";\n  alignItems?: \"stretch\" | \"flex-start\" | \"center\" | \"flex-end\" | \"baseline\";\n  lineHeight?: string;\n  letterSpacing?: string;\n  textTransform?: \"none\" | \"uppercase\" | \"lowercase\" | \"capitalize\";\n  textDecoration?: string;\n  zIndex?: string;\n  position?: \"static\" | \"relative\" | \"absolute\" | \"fixed\" | \"sticky\";\n  overflow?: \"visible\" | \"hidden\" | \"scroll\" | \"auto\";\n  cursor?: string;\n  transition?: string;\n  transform?: string;\n  hover?: Partial<EstilosBloque>;\n}\n\nexport interface ConfiguracionBloque {\n  // Imagen/GIF/Video\n  lazyLoading?: boolean;\n  aspectRatio?: string;\n  autoplay?: boolean;\n  loop?: boolean;\n  muted?: boolean;\n  controls?: boolean;\n  \n  // Cards\n  tipoBoton?: \"primario\" | \"secundario\" | \"outline\" | \"ghost\";\n  targetBlank?: boolean;\n  \n  // Layout\n  columns?: number;\n  fullWidth?: boolean;\n  container?: boolean;\n  \n  // Carrusel/Slider\n  slides?: Array<{\n    imagen: string;\n    titulo?: string;\n    texto?: string;\n    enlace?: string;\n  }>;\n  intervalo?: number;\n  mostrarDots?: boolean;\n  mostrarFlechas?: boolean;\n  \n  // Testimonial\n  testimonios?: Array<{\n    nombre: string;\n    cargo?: string;\n    empresa?: string;\n    texto: string;\n    imagen?: string;\n    rating?: number;\n  }>;\n  \n  // Lista iconos\n  iconos?: Array<{\n    icono: string;\n    texto: string;\n    color?: string;\n  }>;\n  \n  // Tabla\n  filas?: string[][];\n  encabezados?: string[];\n  striped?: boolean;\n  bordered?: boolean;\n  \n  // Accordion\n  items?: Array<{\n    titulo: string;\n    contenido: string;\n    abierto?: boolean;\n  }>;\n  \n  // Tabs\n  tabs?: Array<{\n    titulo: string;\n    contenido: string;\n    icono?: string;\n  }>;\n  \n  // FAQ\n  preguntas?: Array<{\n    pregunta: string;\n    respuesta: string;\n  }>;\n  \n  // Timeline\n  eventos?: Array<{\n    fecha: string;\n    titulo: string;\n    descripcion?: string;\n    icono?: string;\n    color?: string;\n  }>;\n  \n  // Social\n  redes?: Array<{\n    nombre: string;\n    url: string;\n    icono: string;\n    color?: string;\n  }>;\n  \n  // Contador\n  duracion?: number;\n  prefijo?: string;\n  sufijo?: string;\n  separadorMiles?: boolean;\n  iniciarAlScroll?: boolean;\n  \n  // Galer√≠a\n  imagenes?: Array<{\n    src: string;\n    alt?: string;\n    caption?: string;\n  }>;\n  lightbox?: boolean;\n  \n  // Grid/Flex\n  responsiveColumns?: {\n    sm?: number;\n    md?: number;\n    lg?: number;\n    xl?: number;\n  };\n  \n  // Bot√≥n\n  variante?: \"solid\" | \"outline\" | \"ghost\" | \"link\";\n  tama√±o?: \"sm\" | \"md\" | \"lg\";\n  icono?: string;\n  iconoPosicion?: \"left\" | \"right\";\n  deshabilitado?: boolean;\n  cargando?: boolean;\n  \n  // Spacer\n  altura?: string;\n  alturaMobile?: string;\n  alturaTablet?: string;\n  alturaDesktop?: string;\n  \n  // Divider\n  grosor?: string;\n  estilo?: \"solid\" | \"dashed\" | \"dotted\";\n  conTexto?: string;\n  \n  // Animaciones\n  animacionEntrada?: \"fade\" | \"slide-up\" | \"slide-down\" | \"slide-left\" | \"slide-right\" | \"zoom\" | \"none\";\n  delayAnimacion?: number;\n  duracionAnimacion?: number;\n  \n  // Visibilidad responsive\n  mostrarEn?: {\n    mobile?: boolean;\n    tablet?: boolean;\n    desktop?: boolean;\n  };\n}\n\nexport interface Bloque {\n  id: string;\n  tipo: TipoBloque;\n  contenido: Record<string, unknown>;\n  estilos: EstilosBloque;\n  configuracion: ConfiguracionBloque;\n}\n\nexport interface MetaPublicacion {\n  descripcion?: string;\n  keywords?: string[];\n  imagen?: string;\n  autor?: string;\n  categoria?: string;\n  tags?: string[];\n}\n\nexport interface Publicacion {\n  id: string;\n  titulo: string;\n  slug?: string;\n  estado: \"borrador\" | \"publicado\" | \"archivado\";\n  fechaCreacion: string;\n  fechaModificacion: string;\n  fechaPublicacion?: string;\n  bloques: Bloque[];\n  meta?: MetaPublicacion;\n  destacado?: boolean;\n  orden?: number;\n}\n\nexport const STORAGE_KEY = \"vetchile_publicaciones_v2\";\n\nexport function generarId(): string {\n  return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n}\n\nexport function generarSlug(titulo: string): string {\n  return titulo\n    .toLowerCase()\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .replace(/[^a-z0-9]+/g, \"-\")\n    .replace(/(^-|-$)/g, \"\");\n}\n\nexport const estilosPorDefecto: Record<TipoBloque, EstilosBloque> = {\n  titulo: {\n    fontSize: \"clamp(1.5rem, 5vw, 2.5rem)\",\n    fontWeight: \"700\",\n    lineHeight: \"1.2\",\n    margin: \"0 0 1rem 0\",\n    color: \"#111827\",\n  },\n  subtitulo: {\n    fontSize: \"clamp(1.25rem, 4vw, 1.75rem)\",\n    fontWeight: \"600\",\n    lineHeight: \"1.3\",\n    margin: \"0 0 0.75rem 0\",\n    color: \"#374151\",\n  },\n  texto: {\n    fontSize: \"clamp(0.875rem, 2.5vw, 1rem)\",\n    lineHeight: \"1.75\",\n    margin: \"0 0 1rem 0\",\n    color: \"#4b5563\",\n  },\n  imagen: {\n    width: \"100%\",\n    borderRadius: \"0.75rem\",\n    objectFit: \"cover\",\n  },\n  galeria: {\n    display: \"grid\",\n    gap: \"1rem\",\n  },\n  gif: {\n    width: \"100%\",\n    maxWidth: \"100%\",\n    borderRadius: \"0.5rem\",\n  },\n  video: {\n    width: \"100%\",\n    borderRadius: \"0.75rem\",\n  },\n  card_texto: {\n    padding: \"1.5rem\",\n    background: \"#ffffff\",\n    borderRadius: \"1rem\",\n    boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n  },\n  card_imagen: {\n    borderRadius: \"1rem\",\n    overflow: \"hidden\",\n  },\n  card_mixta: {\n    background: \"#ffffff\",\n    borderRadius: \"1rem\",\n    overflow: \"hidden\",\n    boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\n  },\n  card_cta: {\n    padding: \"2rem\",\n    background: \"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)\",\n    borderRadius: \"1rem\",\n    color: \"#ffffff\",\n    textAlign: \"center\",\n  },\n  card_links: {\n    padding: \"1.5rem\",\n    background: \"#f9fafb\",\n    borderRadius: \"1rem\",\n    border: \"1px solid #e5e7eb\",\n  },\n  banner: {\n    padding: \"clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 2rem)\",\n    background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n    color: \"#ffffff\",\n    textAlign: \"center\",\n    borderRadius: \"1rem\",\n  },\n  carrusel: {\n    borderRadius: \"1rem\",\n    overflow: \"hidden\",\n  },\n  slider: {\n    borderRadius: \"1rem\",\n    overflow: \"hidden\",\n  },\n  testimonial: {\n    padding: \"1.5rem\",\n  },\n  lista_iconos: {\n    listStyle: \"none\",\n    padding: \"0\",\n  },\n  tabla: {\n    width: \"100%\",\n    borderCollapse: \"collapse\",\n  },\n  accordion: {\n    border: \"1px solid #e5e7eb\",\n    borderRadius: \"0.75rem\",\n    overflow: \"hidden\",\n  },\n  tabs: {\n    width: \"100%\",\n  },\n  faq: {\n    maxWidth: \"800px\",\n    margin: \"0 auto\",\n  },\n  timeline: {\n    position: \"relative\",\n    padding: \"1rem 0\",\n  },\n  cita: {\n    padding: \"1.5rem\",\n    borderLeft: \"4px solid #3b82f6\",\n    background: \"#f8fafc\",\n    fontStyle: \"italic\",\n    borderRadius: \"0 0.75rem 0.75rem 0\",\n  },\n  social: {\n    display: \"flex\",\n    gap: \"1rem\",\n    justifyContent: \"center\",\n  },\n  contador: {\n    textAlign: \"center\",\n    padding: \"2rem\",\n  },\n  newsletter: {\n    padding: \"2rem\",\n    background: \"#f3f4f6\",\n    borderRadius: \"1rem\",\n    textAlign: \"center\",\n  },\n  codigo: {\n    padding: \"1rem\",\n    background: \"#1f2937\",\n    color: \"#f9fafb\",\n    borderRadius: \"0.75rem\",\n    overflow: \"auto\",\n    fontSize: \"0.875rem\",\n  },\n  espaciador: {\n    height: \"2rem\",\n  },\n  grid: {\n    display: \"grid\",\n    gap: \"1rem\",\n  },\n  flex: {\n    display: \"flex\",\n    gap: \"1rem\",\n  },\n  cta: {\n    padding: \"2rem\",\n    background: \"#1f2937\",\n    color: \"#ffffff\",\n    borderRadius: \"1rem\",\n    textAlign: \"center\",\n  },\n  separador: {\n    border: \"none\",\n    borderTop: \"1px solid #e5e7eb\",\n    margin: \"2rem 0\",\n  },\n  boton: {\n    padding: \"0.75rem 1.5rem\",\n    borderRadius: \"0.5rem\",\n    fontWeight: \"600\",\n    cursor: \"pointer\",\n    transition: \"all 0.2s\",\n  },\n  spacer: {\n    height: \"2rem\",\n  },\n  divider: {\n    border: \"none\",\n    borderTop: \"1px solid #e5e7eb\",\n    margin: \"1.5rem 0\",\n  },\n};\n\nexport const configuracionPorDefecto: Record<TipoBloque, ConfiguracionBloque> = {\n  titulo: {},\n  subtitulo: {},\n  texto: {},\n  imagen: { lazyLoading: true },\n  galeria: { columns: 3, lightbox: true },\n  gif: { lazyLoading: true },\n  video: { \n    autoplay: false, \n    loop: false, \n    muted: true, \n    controls: true, \n    aspectRatio: \"16/9\" \n  },\n  card_texto: {},\n  card_imagen: { lazyLoading: true },\n  card_mixta: {},\n  card_cta: { \n    tipoBoton: \"primario\",\n    targetBlank: false \n  },\n  card_links: {},\n  banner: { fullWidth: true },\n  carrusel: { \n    autoplay: true, \n    intervalo: 5000,\n    mostrarDots: true,\n    mostrarFlechas: true,\n    slides: [] \n  },\n  slider: { \n    autoplay: true, \n    intervalo: 4000,\n    mostrarDots: true,\n    mostrarFlechas: true,\n    slides: [] \n  },\n  testimonial: { testimonios: [] },\n  lista_iconos: { iconos: [] },\n  tabla: { \n    filas: [], \n    striped: true, \n    bordered: true \n  },\n  accordion: { items: [] },\n  tabs: { tabs: [] },\n  faq: { preguntas: [] },\n  timeline: { eventos: [] },\n  cita: {},\n  social: { redes: [] },\n  contador: { \n    duracion: 2000, \n    prefijo: \"\", \n    sufijo: \"\",\n    separadorMiles: true,\n    iniciarAlScroll: true\n  },\n  newsletter: {},\n  codigo: { lenguaje: \"javascript\" },\n  espaciador: { altura: \"2rem\" },\n  grid: { \n    columns: 2,\n    responsiveColumns: { sm: 1, md: 2, lg: 3, xl: 4 }\n  },\n  flex: {},\n  cta: {},\n  separador: {},\n  boton: {\n    variante: \"solid\",\n    tama√±o: \"md\",\n    iconoPosicion: \"left\",\n    deshabilitado: false,\n    cargando: false\n  },\n  spacer: {\n    alturaMobile: \"1rem\",\n    alturaTablet: \"2rem\",\n    alturaDesktop: \"3rem\"\n  },\n  divider: {\n    grosor: \"1px\",\n    estilo: \"solid\"\n  },\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///home/proyectos/nextjs/veterinaria/app/editnoticias/components.tsx"],"sourcesContent":["// /app/editnoticias/components.tsx\n\"use client\";\n\nimport React, { useState, useEffect, useCallback, useRef, memo } from \"react\";\nimport {\n  Bloque,\n  TipoBloque,\n  Publicacion,\n  EstilosBloque,\n  ConfiguracionBloque,\n  generarId,\n  estilosPorDefecto,\n  configuracionPorDefecto,\n} from \"@/app/types/noticias\";\n\n// ==========================================\n// TIPOS LOCALES\n// ==========================================\n\ninterface EditorProps {\n  publicacion: Publicacion;\n  onChange: (publicacion: Publicacion) => void;\n  onGuardar: () => void;\n}\n\ninterface VistaPreviaProps {\n  publicacion: Publicacion | null;\n  modo: \"desktop\" | \"tablet\" | \"mobile\";\n}\n\ninterface SideMenuProps {\n  vistaActiva: string;\n  onCambiarVista: (vista: string) => void;\n  publicaciones: Publicacion[];\n  publicacionActiva: string | null;\n  onSeleccionarPublicacion: (id: string) => void;\n  onCrearPublicacion: () => void;\n  onDuplicarPublicacion: (id: string) => void;\n  onEliminarPublicacion: (id: string) => void;\n  onCambiarEstado: (id: string, estado: \"borrador\" | \"publicado\") => void;\n}\n\n// ==========================================\n// HOOK PERSONALIZADO PARA INPUTS ESTABLES (SOLUCI√ìN TECLADO)\n// ==========================================\n\nfunction useStableInput<T>(initialValue: T, onChange: (value: T) => void) {\n  const [localValue, setLocalValue] = useState<T>(initialValue);\n  const timeoutRef = useRef<NodeJS.Timeout>();\n  const isTypingRef = useRef(false);\n\n  useEffect(() => {\n    if (!isTypingRef.current) {\n      setLocalValue(initialValue);\n    }\n  }, [initialValue]);\n\n  const handleChange = useCallback((newValue: T) => {\n    isTypingRef.current = true;\n    setLocalValue(newValue);\n\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    timeoutRef.current = setTimeout(() => {\n      onChange(newValue);\n      isTypingRef.current = false;\n    }, 500);\n  }, [onChange]);\n\n  const handleBlur = useCallback(() => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    onChange(localValue);\n    isTypingRef.current = false;\n  }, [localValue, onChange]);\n\n  return { value: localValue, handleChange, handleBlur };\n}\n\n// ==========================================\n// COMPONENTE: SIDE MENU (MOBILE FIRST)\n// ==========================================\n\nexport const SideMenu: React.FC<SideMenuProps> = memo(({\n  vistaActiva,\n  onCambiarVista,\n  publicaciones,\n  publicacionActiva,\n  onSeleccionarPublicacion,\n  onCrearPublicacion,\n  onDuplicarPublicacion,\n  onEliminarPublicacion,\n  onCambiarEstado,\n}) => {\n  const [menuAbierto, setMenuAbierto] = useState(false);\n  const [seccionActiva, setSeccionActiva] = useState<\"menu\" | \"publicaciones\">(\"menu\");\n\n  const vistas = [\n    { id: \"editor\", label: \"Editor\", icon: \"‚úèÔ∏è\", color: \"blue\" },\n    { id: \"lista\", label: \"Publicaciones\", icon: \"üìÑ\", color: \"purple\" },\n    { id: \"preview\", label: \"Vista Previa\", icon: \"üëÅÔ∏è\", color: \"green\" },\n  ];\n\n  return (\n    <>\n      {/* Bot√≥n flotante para m√≥vil */}\n      <button\n        onClick={() => setMenuAbierto(!menuAbierto)}\n        className=\"lg:hidden fixed bottom-6 right-6 z-50 bg-blue-600 text-white p-4 rounded-full shadow-2xl hover:bg-blue-700 active:scale-95 transition-all\"\n        aria-label={menuAbierto ? \"Cerrar men√∫\" : \"Abrir men√∫\"}\n      >\n        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          {menuAbierto ? (\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          ) : (\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n          )}\n        </svg>\n      </button>\n\n      {/* Overlay para m√≥vil */}\n      {menuAbierto && (\n        <div\n          className=\"lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40\"\n          onClick={() => setMenuAbierto(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <aside\n        className={`fixed inset-y-0 right-0 bg-white shadow-2xl z-50 w-full sm:w-80 transform transition-transform duration-300 ease-out lg:translate-x-0 lg:static lg:w-80 lg:shadow-none lg:border-l lg:border-gray-200 ${\n          menuAbierto ? \"translate-x-0\" : \"translate-x-full\"\n        }`}\n      >\n        {/* Header m√≥vil */}\n        <div className=\"lg:hidden flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50\">\n          <h2 className=\"text-lg font-bold text-gray-800\">Men√∫</h2>\n          <button \n            onClick={() => setMenuAbierto(false)}\n            className=\"p-2 hover:bg-gray-200 rounded-lg\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"h-full overflow-y-auto p-4 sm:p-6\">\n          {/* Navegaci√≥n principal */}\n          <nav className=\"space-y-2 mb-6\">\n            {vistas.map((vista) => (\n              <button\n                key={vista.id}\n                onClick={() => {\n                  onCambiarVista(vista.id);\n                  setMenuAbierto(false);\n                }}\n                className={`w-full text-left px-4 py-3 rounded-xl transition-all flex items-center gap-3 ${\n                  vistaActiva === vista.id\n                    ? `bg-${vista.color}-100 text-${vista.color}-700 font-semibold shadow-sm`\n                    : \"hover:bg-gray-100 text-gray-700\"\n                }`}\n              >\n                <span className=\"text-xl\">{vista.icon}</span>\n                <span className=\"text-sm sm:text-base\">{vista.label}</span>\n                {vistaActiva === vista.id && (\n                  <svg className=\"w-5 h-5 ml-auto\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\n                  </svg>\n                )}\n              </button>\n            ))}\n          </nav>\n\n          {/* Acciones r√°pidas */}\n          <div className=\"mb-6\">\n            <h3 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 px-2\">\n              Acciones R√°pidas\n            </h3>\n            <button\n              onClick={() => {\n                onCrearPublicacion();\n                setMenuAbierto(false);\n              }}\n              className=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 py-3 rounded-xl font-semibold transition-all shadow-lg shadow-blue-200 active:scale-95 flex items-center justify-center gap-2\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n              </svg>\n              Nueva Publicaci√≥n\n            </button>\n          </div>\n\n          {/* Publicaciones recientes */}\n          <div>\n            <h3 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 px-2\">\n              Recientes ({publicaciones.length})\n            </h3>\n            <div className=\"space-y-2\">\n              {publicaciones.slice(0, 8).map((pub) => (\n                <div\n                  key={pub.id}\n                  className={`group p-3 rounded-xl cursor-pointer transition-all border-2 ${\n                    publicacionActiva === pub.id\n                      ? \"bg-blue-50 border-blue-300 shadow-sm\"\n                      : \"bg-gray-50 border-transparent hover:bg-gray-100 hover:border-gray-200\"\n                  }`}\n                >\n                  <div \n                    onClick={() => {\n                      onSeleccionarPublicacion(pub.id);\n                      setMenuAbierto(false);\n                    }}\n                    className=\"flex justify-between items-start mb-2\"\n                  >\n                    <span className=\"font-medium text-sm text-gray-800 line-clamp-2 flex-1 pr-2\">\n                      {pub.titulo || \"Sin t√≠tulo\"}\n                    </span>\n                    <span\n                      className={`text-xs px-2 py-0.5 rounded-full font-medium flex-shrink-0 ${\n                        pub.estado === \"publicado\"\n                          ? \"bg-green-100 text-green-700\"\n                          : \"bg-amber-100 text-amber-700\"\n                      }`}\n                    >\n                      {pub.estado === \"publicado\" ? \"Pub\" : \"Bor\"}\n                    </span>\n                  </div>\n                  \n                  <div className=\"flex items-center justify-between text-xs text-gray-500 mb-2\">\n                    <span>{new Date(pub.fechaModificacion).toLocaleDateString(\"es-CL\")}</span>\n                    <span>{pub.bloques.length} bloques</span>\n                  </div>\n\n                  <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onDuplicarPublicacion(pub.id);\n                      }}\n                      className=\"flex-1 py-1.5 text-xs bg-white border border-gray-200 rounded-lg hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-colors\"\n                      title=\"Duplicar\"\n                    >\n                      üìã Duplicar\n                    </button>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onCambiarEstado(\n                          pub.id,\n                          pub.estado === \"publicado\" ? \"borrador\" : \"publicado\"\n                        );\n                      }}\n                      className=\"flex-1 py-1.5 text-xs bg-white border border-gray-200 rounded-lg hover:bg-amber-50 hover:text-amber-600 hover:border-amber-200 transition-colors\"\n                      title=\"Cambiar estado\"\n                    >\n                      üîÑ {pub.estado === \"publicado\" ? \"Borrador\" : \"Publicar\"}\n                    </button>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onEliminarPublicacion(pub.id);\n                      }}\n                      className=\"px-3 py-1.5 text-xs bg-white border border-gray-200 rounded-lg hover:bg-red-50 hover:text-red-600 hover:border-red-200 transition-colors\"\n                      title=\"Eliminar\"\n                    >\n                      üóëÔ∏è\n                    </button>\n                  </div>\n                </div>\n              ))}\n              \n              {publicaciones.length === 0 && (\n                <div className=\"text-center py-8 text-gray-400 text-sm\">\n                  No hay publicaciones\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </aside>\n    </>\n  );\n});\n\nSideMenu.displayName = \"SideMenu\";\n\n// ==========================================\n// COMPONENTE: EDITOR DE BLOQUES (OPTIMIZADO)\n// ==========================================\n\nexport const EditorBloques: React.FC<EditorProps> = memo(({\n  publicacion,\n  onChange,\n  onGuardar,\n}) => {\n  const [bloqueEditando, setBloqueEditando] = useState<string | null>(null);\n  const [categoriaFiltro, setCategoriaFiltro] = useState<string>(\"todos\");\n  const guardandoRef = useRef(false);\n\n  const agregarBloque = useCallback((tipo: TipoBloque) => {\n    const nuevoBloque: Bloque = {\n      id: generarId(),\n      tipo,\n      contenido: obtenerContenidoPorDefecto(tipo),\n      estilos: { ...estilosPorDefecto[tipo] },\n      configuracion: { ...configuracionPorDefecto[tipo] },\n    };\n\n    onChange({\n      ...publicacion,\n      bloques: [...publicacion.bloques, nuevoBloque],\n      fechaModificacion: new Date().toISOString(),\n    });\n  }, [publicacion, onChange]);\n\n  const actualizarBloque = useCallback((id: string, updates: Partial<Bloque>) => {\n    const nuevosBloques = publicacion.bloques.map((b) =>\n      b.id === id ? { ...b, ...updates } : b\n    );\n\n    onChange({\n      ...publicacion,\n      bloques: nuevosBloques,\n      fechaModificacion: new Date().toISOString(),\n    });\n  }, [publicacion, onChange]);\n\n  const eliminarBloque = useCallback((id: string) => {\n    if (confirm(\"¬øEliminar este bloque?\")) {\n      onChange({\n        ...publicacion,\n        bloques: publicacion.bloques.filter((b) => b.id !== id),\n        fechaModificacion: new Date().toISOString(),\n      });\n      if (bloqueEditando === id) {\n        setBloqueEditando(null);\n      }\n    }\n  }, [publicacion, onChange, bloqueEditando]);\n\n  const moverBloque = useCallback((id: string, direccion: \"arriba\" | \"abajo\") => {\n    const index = publicacion.bloques.findIndex((b) => b.id === id);\n    if (\n      (direccion === \"arriba\" && index === 0) ||\n      (direccion === \"abajo\" && index === publicacion.bloques.length - 1)\n    ) {\n      return;\n    }\n\n    const nuevosBloques = [...publicacion.bloques];\n    const newIndex = direccion === \"arriba\" ? index - 1 : index + 1;\n    [nuevosBloques[index], nuevosBloques[newIndex]] = [\n      nuevosBloques[newIndex],\n      nuevosBloques[index],\n    ];\n\n    onChange({\n      ...publicacion,\n      bloques: nuevosBloques,\n      fechaModificacion: new Date().toISOString(),\n    });\n  }, [publicacion, onChange]);\n\n  const duplicarBloque = useCallback((id: string) => {\n    const bloque = publicacion.bloques.find((b) => b.id === id);\n    if (!bloque) return;\n\n    const index = publicacion.bloques.findIndex((b) => b.id === id);\n    const nuevoBloque: Bloque = {\n      ...bloque,\n      id: generarId(),\n    };\n\n    const nuevosBloques = [...publicacion.bloques];\n    nuevosBloques.splice(index + 1, 0, nuevoBloque);\n\n    onChange({\n      ...publicacion,\n      bloques: nuevosBloques,\n      fechaModificacion: new Date().toISOString(),\n    });\n  }, [publicacion, onChange]);\n\n  const categoriasBloques = [\n    { id: \"todos\", label: \"Todos\", icon: \"üéØ\" },\n    { id: \"texto\", label: \"Texto\", icon: \"üìù\" },\n    { id: \"media\", label: \"Media\", icon: \"üñºÔ∏è\" },\n    { id: \"cards\", label: \"Cards\", icon: \"üé¥\" },\n    { id: \"layout\", label: \"Layout\", icon: \"‚ö°\" },\n    { id: \"avanzado\", label: \"Avanzado\", icon: \"üöÄ\" },\n  ];\n\n  const tiposBloque: Array<{ tipo: TipoBloque; label: string; icon: string; categoria: string }> = [\n    // Texto\n    { tipo: \"titulo\", label: \"T√≠tulo\", icon: \"T\", categoria: \"texto\" },\n    { tipo: \"subtitulo\", label: \"Subt√≠tulo\", icon: \"H2\", categoria: \"texto\" },\n    { tipo: \"texto\", label: \"Texto\", icon: \"¬∂\", categoria: \"texto\" },\n    { tipo: \"cita\", label: \"Cita\", icon: \"üí≠\", categoria: \"texto\" },\n    \n    // Media\n    { tipo: \"imagen\", label: \"Imagen\", icon: \"üñºÔ∏è\", categoria: \"media\" },\n    { tipo: \"galeria\", label: \"Galer√≠a\", icon: \"üñºÔ∏èüñºÔ∏è\", categoria: \"media\" },\n    { tipo: \"gif\", label: \"GIF\", icon: \"GIF\", categoria: \"media\" },\n    { tipo: \"video\", label: \"Video\", icon: \"‚ñ∂Ô∏è\", categoria: \"media\" },\n    \n    // Cards\n    { tipo: \"card_texto\", label: \"Card Texto\", icon: \"üìù\", categoria: \"cards\" },\n    { tipo: \"card_imagen\", label: \"Card Imagen\", icon: \"üñºÔ∏è\", categoria: \"cards\" },\n    { tipo: \"card_mixta\", label: \"Card Mixta\", icon: \"üé¥\", categoria: \"cards\" },\n    { tipo: \"card_cta\", label: \"Card CTA\", icon: \"üëÜ\", categoria: \"cards\" },\n    { tipo: \"card_links\", label: \"Card Links\", icon: \"üîó\", categoria: \"cards\" },\n    \n    // Layout\n    { tipo: \"banner\", label: \"Banner\", icon: \"üéØ\", categoria: \"layout\" },\n    { tipo: \"grid\", label: \"Grid\", icon: \"‚ñ¶\", categoria: \"layout\" },\n    { tipo: \"flex\", label: \"Flex\", icon: \"‚ò∞\", categoria: \"layout\" },\n    { tipo: \"espaciador\", label: \"Espaciador\", icon: \"‚ÜïÔ∏è\", categoria: \"layout\" },\n    { tipo: \"separador\", label: \"Separador\", icon: \"‚Äî\", categoria: \"layout\" },\n    \n    // Avanzado\n    { tipo: \"carrusel\", label: \"Carrusel\", icon: \"üé†\", categoria: \"avanzado\" },\n    { tipo: \"slider\", label: \"Slider\", icon: \"üé¢\", categoria: \"avanzado\" },\n    { tipo: \"testimonial\", label: \"Testimonial\", icon: \"üí¨\", categoria: \"avanzado\" },\n    { tipo: \"lista_iconos\", label: \"Lista Iconos\", icon: \"‚òëÔ∏è\", categoria: \"avanzado\" },\n    { tipo: \"tabla\", label: \"Tabla\", icon: \"üìä\", categoria: \"avanzado\" },\n    { tipo: \"accordion\", label: \"Acorde√≥n\", icon: \"üìã\", categoria: \"avanzado\" },\n    { tipo: \"tabs\", label: \"Tabs\", icon: \"üìë\", categoria: \"avanzado\" },\n    { tipo: \"faq\", label: \"FAQ\", icon: \"‚ùì\", categoria: \"avanzado\" },\n    { tipo: \"timeline\", label: \"Timeline\", icon: \"‚è±Ô∏è\", categoria: \"avanzado\" },\n    { tipo: \"social\", label: \"Redes\", icon: \"üåê\", categoria: \"avanzado\" },\n    { tipo: \"contador\", label: \"Contador\", icon: \"üî¢\", categoria: \"avanzado\" },\n    { tipo: \"newsletter\", label: \"Newsletter\", icon: \"üìß\", categoria: \"avanzado\" },\n    { tipo: \"codigo\", label: \"C√≥digo\", icon: \"üíª\", categoria: \"avanzado\" },\n    { tipo: \"cta\", label: \"CTA\", icon: \"‚ö°\", categoria: \"avanzado\" },\n    { tipo: \"boton\", label: \"Bot√≥n\", icon: \"üîò\", categoria: \"avanzado\" },\n  ];\n\n  const tiposFiltrados = categoriaFiltro === \"todos\" \n    ? tiposBloque \n    : tiposBloque.filter(t => t.categoria === categoriaFiltro);\n\n  return (\n    <div className=\"space-y-4 sm:space-y-6 pb-24\">\n      {/* Header de la publicaci√≥n */}\n      <div className=\"bg-white p-4 sm:p-6 rounded-2xl shadow-sm border border-gray-200\">\n        <div className=\"flex flex-col gap-4\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"flex-1\">\n              <label className=\"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1\">\n                T√≠tulo de la publicaci√≥n\n              </label>\n              <input\n                type=\"text\"\n                value={publicacion.titulo}\n                onChange={(e) =>\n                  onChange({ ...publicacion, titulo: e.target.value })\n                }\n                placeholder=\"Escribe un t√≠tulo atractivo...\"\n                className=\"w-full text-xl sm:text-2xl font-bold border-b-2 border-gray-200 focus:border-blue-500 outline-none px-0 py-2 bg-transparent transition-colors\"\n              />\n            </div>\n            <span\n              className={`px-3 py-1.5 rounded-full text-xs font-bold flex-shrink-0 ${\n                publicacion.estado === \"publicado\"\n                  ? \"bg-green-100 text-green-700 border border-green-200\"\n                  : \"bg-amber-100 text-amber-700 border border-amber-200\"\n              }`}\n            >\n              {publicacion.estado === \"publicado\" ? \"‚óè Publicado\" : \"‚óã Borrador\"}\n            </span>\n          </div>\n          \n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1\">\n                Descripci√≥n SEO\n              </label>\n              <textarea\n                value={publicacion.meta?.descripcion || \"\"}\n                onChange={(e) =>\n                  onChange({\n                    ...publicacion,\n                    meta: { ...publicacion.meta, descripcion: e.target.value },\n                  })\n                }\n                placeholder=\"Breve descripci√≥n para SEO...\"\n                className=\"w-full text-sm text-gray-600 border border-gray-200 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none bg-gray-50\"\n                rows={2}\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1\">\n                Categor√≠a\n              </label>\n              <input\n                type=\"text\"\n                value={publicacion.meta?.categoria || \"\"}\n                onChange={(e) =>\n                  onChange({\n                    ...publicacion,\n                    meta: { ...publicacion.meta, categoria: e.target.value },\n                  })\n                }\n                placeholder=\"Ej: Noticias, Productos...\"\n                className=\"w-full text-sm border border-gray-200 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50\"\n              />\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-4 pt-2\">\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={publicacion.destacado || false}\n                onChange={(e) =>\n                  onChange({ ...publicacion, destacado: e.target.checked })\n                }\n                className=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"\n              />\n              <span className=\"text-sm text-gray-700\">Marcar como destacado</span>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      {/* Selector de bloques */}\n      <div className=\"bg-gray-50 p-4 sm:p-6 rounded-2xl border border-gray-200\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-sm font-bold text-gray-700 uppercase tracking-wider\">\n            Agregar Bloque\n          </h3>\n          <span className=\"text-xs text-gray-500\">{publicacion.bloques.length} bloques</span>\n        </div>\n\n        {/* Filtros de categor√≠a */}\n        <div className=\"flex flex-wrap gap-2 mb-4 overflow-x-auto pb-2 -mx-1 px-1\">\n          {categoriasBloques.map((cat) => (\n            <button\n              key={cat.id}\n              onClick={() => setCategoriaFiltro(cat.id)}\n              className={`px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-all ${\n                categoriaFiltro === cat.id\n                  ? \"bg-blue-600 text-white shadow-md\"\n                  : \"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200\"\n              }`}\n            >\n              {cat.icon} {cat.label}\n            </button>\n          ))}\n        </div>\n\n        {/* Grid de bloques */}\n        <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2 sm:gap-3\">\n          {tiposFiltrados.map(({ tipo, label, icon }) => (\n            <button\n              key={tipo}\n              onClick={() => agregarBloque(tipo)}\n              className=\"flex flex-col items-center p-2 sm:p-3 bg-white rounded-xl border border-gray-200 hover:border-blue-400 hover:shadow-md hover:-translate-y-0.5 transition-all active:scale-95 group\"\n              title={label}\n            >\n              <span className=\"text-lg sm:text-xl mb-1 group-hover:scale-110 transition-transform\">\n                {icon}\n              </span>\n              <span className=\"text-[10px] sm:text-xs text-gray-600 text-center leading-tight font-medium\">\n                {label}\n              </span>\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Lista de bloques */}\n      <div className=\"space-y-3 sm:space-y-4\">\n        {publicacion.bloques.map((bloque, index) => (\n          <BloqueEditor\n            key={bloque.id}\n            bloque={bloque}\n            index={index}\n            total={publicacion.bloques.length}\n            isEditing={bloqueEditando === bloque.id}\n            onToggleEdit={() => setBloqueEditando(bloqueEditando === bloque.id ? null : bloque.id)}\n            onUpdate={(updates) => actualizarBloque(bloque.id, updates)}\n            onDelete={() => eliminarBloque(bloque.id)}\n            onMoveUp={() => moverBloque(bloque.id, \"arriba\")}\n            onMoveDown={() => moverBloque(bloque.id, \"abajo\")}\n            onDuplicate={() => duplicarBloque(bloque.id)}\n          />\n        ))}\n        \n        {publicacion.bloques.length === 0 && (\n          <div className=\"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300\">\n            <div className=\"text-4xl mb-3\">üìù</div>\n            <p className=\"text-gray-500 text-sm\">Agrega tu primer bloque para comenzar</p>\n          </div>\n        )}\n      </div>\n\n      {/* Bot√≥n guardar flotante */}\n      <div className=\"fixed bottom-6 left-6 z-30\">\n        <button\n          onClick={onGuardar}\n          className=\"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-4 sm:px-6 py-3 rounded-full shadow-xl font-semibold flex items-center gap-2 transition-all hover:scale-105 active:scale-95 text-sm sm:text-base\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\" />\n          </svg>\n          <span className=\"hidden sm:inline\">Guardar</span>\n        </button>\n      </div>\n    </div>\n  );\n});\n\nEditorBloques.displayName = \"EditorBloques\";\n\n// ==========================================\n// COMPONENTE: BLOQUE EDITOR INDIVIDUAL\n// ==========================================\n\ninterface BloqueEditorProps {\n  bloque: Bloque;\n  index: number;\n  total: number;\n  isEditing: boolean;\n  onToggleEdit: () => void;\n  onUpdate: (updates: Partial<Bloque>) => void;\n  onDelete: () => void;\n  onMoveUp: () => void;\n  onMoveDown: () => void;\n  onDuplicate: () => void;\n}\n\nconst BloqueEditor: React.FC<BloqueEditorProps> = memo(({\n  bloque,\n  index,\n  total,\n  isEditing,\n  onToggleEdit,\n  onUpdate,\n  onDelete,\n  onMoveUp,\n  onMoveDown,\n  onDuplicate,\n}) => {\n  return (\n    <div\n      className={`bg-white rounded-2xl border-2 transition-all ${\n        isEditing\n          ? \"border-blue-500 shadow-lg ring-4 ring-blue-50\"\n          : \"border-gray-200 hover:border-gray-300\"\n      }`}\n    >\n      {/* Header del bloque */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border-b border-gray-100 gap-2\">\n        <div className=\"flex items-center gap-3\">\n          <span className=\"flex items-center justify-center w-8 h-8 bg-gray-100 text-gray-500 font-mono text-xs font-bold rounded-lg\">\n            {index + 1}\n          </span>\n          <div>\n            <span className=\"font-semibold text-gray-700 capitalize text-sm sm:text-base\">\n              {bloque.tipo.replace(/_/g, \" \")}\n            </span>\n            <span className=\"hidden sm:inline text-xs text-gray-400 ml-2\">\n              ID: {bloque.id.slice(-6)}\n            </span>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-1 flex-wrap\">\n          <button\n            onClick={onMoveUp}\n            disabled={index === 0}\n            className=\"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors\"\n            title=\"Mover arriba\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\n            </svg>\n          </button>\n          <button\n            onClick={onMoveDown}\n            disabled={index === total - 1}\n            className=\"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors\"\n            title=\"Mover abajo\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n            </svg>\n          </button>\n          <div className=\"w-px h-6 bg-gray-200 mx-1\" />\n          <button\n            onClick={onDuplicate}\n            className=\"p-2 hover:bg-blue-50 text-blue-600 rounded-lg transition-colors\"\n            title=\"Duplicar\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n            </svg>\n          </button>\n          <button\n            onClick={onToggleEdit}\n            className={`p-2 rounded-lg transition-colors ${\n              isEditing ? \"bg-blue-100 text-blue-700\" : \"hover:bg-blue-50 text-blue-600\"\n            }`}\n            title={isEditing ? \"Cerrar edici√≥n\" : \"Editar\"}\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n            </svg>\n          </button>\n          <button\n            onClick={onDelete}\n            className=\"p-2 hover:bg-red-50 text-red-600 rounded-lg transition-colors\"\n            title=\"Eliminar\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      {/* Vista previa del bloque */}\n      <div className=\"p-4 overflow-x-auto bg-gray-50/50\">\n        <VistaPreviaBloque bloque={bloque} />\n      </div>\n\n      {/* Panel de edici√≥n */}\n      {isEditing && (\n        <div className=\"border-t border-gray-200 p-4 bg-gray-50\">\n          <PanelEdicionBloque\n            bloque={bloque}\n            onChange={onUpdate}\n          />\n        </div>\n      )}\n    </div>\n  );\n});\n\nBloqueEditor.displayName = \"BloqueEditor\";\n\n// ==========================================\n// COMPONENTE: VISTA PREVIA DE BLOQUE (EDITOR)\n// ==========================================\n\nconst VistaPreviaBloque: React.FC<{ bloque: Bloque }> = memo(({ bloque }) => {\n  const { tipo, contenido, estilos, configuracion } = bloque;\n\n  const style: React.CSSProperties = {\n    color: estilos.color,\n    backgroundColor: estilos.background,\n    backgroundImage: estilos.backgroundImage,\n    padding: estilos.padding,\n    margin: estilos.margin,\n    borderRadius: estilos.borderRadius,\n    boxShadow: estilos.shadow,\n    textAlign: estilos.textAlign,\n    fontSize: estilos.fontSize,\n    fontWeight: estilos.fontWeight,\n    width: estilos.width,\n    height: estilos.height,\n    objectFit: estilos.objectFit,\n    opacity: estilos.opacity ? parseFloat(estilos.opacity) : undefined,\n    display: estilos.display,\n    gridTemplateColumns: estilos.gridTemplateColumns,\n    gap: estilos.gap,\n    flexDirection: estilos.flexDirection,\n    justifyContent: estilos.justifyContent,\n    alignItems: estilos.alignItems,\n    border: estilos.border,\n    maxWidth: estilos.maxWidth,\n    lineHeight: estilos.lineHeight,\n    letterSpacing: estilos.letterSpacing,\n    textTransform: estilos.textTransform,\n  };\n\n  switch (tipo) {\n    case \"titulo\":\n      return (\n        <h1 style={style} className=\"break-words text-xl sm:text-2xl md:text-3xl font-bold\">\n          {(contenido.texto as string) || \"T√≠tulo de ejemplo\"}\n        </h1>\n      );\n    case \"subtitulo\":\n      return (\n        <h2 style={style} className=\"break-words text-lg sm:text-xl md:text-2xl font-semibold\">\n          {(contenido.texto as string) || \"Subt√≠tulo de ejemplo\"}\n        </h2>\n      );\n    case \"texto\":\n      return (\n        <p style={style} className=\"break-words text-sm sm:text-base leading-relaxed\">\n          {(contenido.texto as string) || \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\"}\n        </p>\n      );\n    case \"imagen\":\n      return (\n        <img\n          src={(contenido.src as string) || \"https://placehold.co/800x400/e2e8f0/64748b?text=Imagen\"}\n          alt={(contenido.alt as string) || \"Imagen\"}\n          style={style}\n          className=\"max-w-full h-auto rounded-lg\"\n        />\n      );\n    case \"gif\":\n      return (\n        <img\n          src={(contenido.src as string) || \"https://placehold.co/400x300/e2e8f0/64748b?text=GIF\"}\n          alt={(contenido.alt as string) || \"GIF\"}\n          style={style}\n          className=\"max-w-full h-auto rounded-lg\"\n        />\n      );\n    case \"video\":\n      return (\n        <div style={style} className=\"aspect-video bg-gray-900 rounded-lg flex items-center justify-center text-white\">\n          <div className=\"text-center\">\n            <svg className=\"w-12 h-12 mx-auto mb-2 opacity-50\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\n            </svg>\n            <span className=\"text-sm\">{(contenido.src as string) || \"URL no configurada\"}</span>\n          </div>\n        </div>\n      );\n    case \"card_texto\":\n      return (\n        <div style={style} className=\"rounded-xl p-4 bg-white shadow-sm\">\n          <h3 className=\"font-bold mb-2 text-base sm:text-lg\">{(contenido.titulo as string) || \"Card\"}</h3>\n          <p className=\"text-sm text-gray-600 line-clamp-3\">{(contenido.texto as string) || \"Contenido...\"}</p>\n        </div>\n      );\n    case \"card_imagen\":\n      return (\n        <div style={style} className=\"rounded-xl overflow-hidden\">\n          <img\n            src={(contenido.src as string) || \"https://placehold.co/400x300/e2e8f0/64748b?text=Card\"}\n            alt=\"\"\n            className=\"w-full h-32 sm:h-48 object-cover\"\n          />\n        </div>\n      );\n    case \"card_mixta\":\n      return (\n        <div style={style} className=\"rounded-xl overflow-hidden bg-white shadow-sm\">\n          <img\n            src={(contenido.imagen as string) || \"https://placehold.co/400x200/e2e8f0/64748b?text=Imagen\"}\n            alt=\"\"\n            className=\"w-full h-32 sm:h-48 object-cover\"\n          />\n          <div className=\"p-4\">\n            <h3 className=\"font-bold mb-2 text-base sm:text-lg\">{(contenido.titulo as string) || \"T√≠tulo\"}</h3>\n            <p className=\"text-gray-600 text-sm line-clamp-2\">{(contenido.texto as string) || \"Descripci√≥n...\"}</p>\n          </div>\n        </div>\n      );\n    case \"card_cta\":\n      return (\n        <div style={style} className=\"rounded-xl p-6 text-center\">\n          <h3 className=\"text-lg sm:text-xl font-bold mb-2\">{(contenido.titulo as string) || \"¬°Accede ahora!\"}</h3>\n          <p className=\"mb-4 text-sm opacity-90 line-clamp-2\">{(contenido.texto as string) || \"Descripci√≥n\"}</p>\n          <button className=\"bg-white text-blue-600 px-6 py-2 rounded-full font-semibold text-sm shadow-lg\">\n            {(contenido.textoBoton as string) || \"Click aqu√≠\"}\n          </button>\n        </div>\n      );\n    case \"card_links\":\n      return (\n        <div style={style} className=\"rounded-xl p-4 bg-gray-50\">\n          <h3 className=\"font-bold mb-3 text-base sm:text-lg\">{(contenido.titulo as string) || \"Enlaces\"}</h3>\n          <ul className=\"space-y-1\">\n            {((contenido.links as Array<{texto: string, url: string}>) || []).slice(0, 3).map((link, i) => (\n              <li key={i} className=\"text-blue-600 text-sm truncate\">‚Üí {link.texto}</li>\n            ))}\n            {((contenido.links as Array<unknown>) || []).length > 3 && (\n              <li className=\"text-gray-500 text-sm\">+{((contenido.links as Array<unknown>) || []).length - 3} m√°s...</li>\n            )}\n          </ul>\n        </div>\n      );\n    case \"banner\":\n      return (\n        <div style={style} className=\"rounded-xl p-6 sm:p-8 text-center\">\n          <h2 className=\"text-xl sm:text-2xl md:text-3xl font-bold mb-2\">{(contenido.titulo as string) || \"Banner Hero\"}</h2>\n          <p className=\"text-sm sm:text-base opacity-90\">{(contenido.subtitulo as string) || \"Subt√≠tulo\"}</p>\n        </div>\n      );\n    case \"cita\":\n      return (\n        <blockquote style={style} className=\"border-l-4 border-blue-500 pl-4 italic text-sm sm:text-base\">\n          {(contenido.texto as string) || \"Cita destacada...\"}\n        </blockquote>\n      );\n    case \"espaciador\":\n      return <div style={{ height: estilos.height || \"2rem\" }} className=\"bg-gray-100 rounded\" />;\n    case \"separador\":\n      return <hr style={style} className=\"border-gray-300\" />;\n    case \"grid\":\n      return (\n        <div style={style} className=\"min-h-[80px] border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center text-gray-400 text-sm bg-gray-50\">\n          <div className=\"text-center\">\n            <div className=\"text-2xl mb-1\">‚ñ¶</div>\n            Grid ({(configuracion.columns || 2)} cols)\n          </div>\n        </div>\n      );\n    case \"flex\":\n      return (\n        <div style={style} className=\"min-h-[80px] border-2 border-dashed border-gray-300 rounded-xl flex items-center justify-center text-gray-400 text-sm bg-gray-50\">\n          <div className=\"text-center\">\n            <div className=\"text-2xl mb-1\">‚ò∞</div>\n            Flex ({estilos.flexDirection || \"row\"})\n          </div>\n        </div>\n      );\n    case \"carrusel\":\n    case \"slider\":\n      const slides = (configuracion.slides as Array<{imagen: string, titulo: string}>) || [];\n      return (\n        <div style={style} className=\"p-3 bg-gray-100 rounded-xl\">\n          <div className=\"flex items-center gap-2 mb-2 text-gray-600 text-sm\">\n            <span className=\"text-lg\">{tipo === \"carrusel\" ? \"üé†\" : \"üé¢\"}</span>\n            <span className=\"font-medium\">{tipo === \"carrusel\" ? \"Carrusel\" : \"Slider\"}</span>\n          </div>\n          <div className=\"flex gap-2 overflow-x-auto pb-2\">\n            {slides.slice(0, 3).map((slide, i) => (\n              <div key={i} className=\"flex-shrink-0 w-20 h-20 bg-gray-200 rounded-lg overflow-hidden\">\n                {slide.imagen ? (\n                  <img src={slide.imagen} alt=\"\" className=\"w-full h-full object-cover\" />\n                ) : (\n                  <div className=\"w-full h-full flex items-center justify-center text-xs text-gray-400\">Sin img</div>\n                )}\n              </div>\n            ))}\n            {slides.length === 0 && <span className=\"text-xs text-gray-400 py-4\">Sin slides configurados</span>}\n          </div>\n          <div className=\"text-xs text-gray-500 mt-1\">\n            {slides.length} slides ‚Ä¢ Autoplay: {configuracion.autoplay ? \"S√≠\" : \"No\"}\n          </div>\n        </div>\n      );\n    case \"testimonial\":\n      return (\n        <div style={style} className=\"rounded-xl p-4 bg-gray-50\">\n          <div className=\"flex items-center gap-2 mb-2 text-gray-600 text-sm\">\n            <span className=\"text-lg\">üí¨</span>\n            <span className=\"font-medium\">Testimonials</span>\n          </div>\n          <div className=\"text-xs text-gray-500\">\n            {((configuracion.testimonios as Array<unknown>) || []).length} testimonios configurados\n          </div>\n        </div>\n      );\n    case \"lista_iconos\":\n      return (\n        <div style={style} className=\"p-4 bg-gray-50 rounded-xl\">\n          <div className=\"text-gray-600 mb-2 text-sm font-medium\">‚òëÔ∏è Lista con Iconos</div>\n          <div className=\"text-xs text-gray-500\">\n            {((configuracion.iconos as Array<unknown>) || []).length} items\n          </div>\n        </div>\n      );\n    case \"tabla\":\n      return (\n        <div style={style} className=\"overflow-x-auto rounded-xl border border-gray-200\">\n          <table className=\"w-full text-xs\">\n            <tbody>\n              {((configuracion.filas as Array<string[]>) || []).slice(0, 2).map((fila, i) => (\n                <tr key={i} className={i === 0 ? \"bg-gray-100 font-semibold\" : \"border-t\"}>\n                  {fila.slice(0, 3).map((celda, j) => (\n                    <td key={j} className=\"p-2 border-r last:border-r-0\">{celda}</td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      );\n    case \"accordion\":\n      return (\n        <div style={style} className=\"p-4 bg-gray-50 rounded-xl\">\n          <div className=\"text-gray-600 mb-2 text-sm font-medium\">üìã Acorde√≥n</div>\n          <div className=\"text-xs text-gray-500\">\n            {((configuracion.items as Array<unknown>) || []).length} items\n          </div>\n        </div>\n      );\n    case \"tabs\":\n      return (\n        <div style={style} className=\"p-4 bg-gray-50 rounded-xl\">\n          <div className=\"text-gray-600 mb-2 text-sm font-medium\">üìë Tabs</div>\n          <div className=\"text-xs text-gray-500\">\n            {((configuracion.tabs as Array<unknown>) || []).length} pesta√±as\n          </div>\n        </div>\n      );\n    case \"faq\":\n      return (\n        <div style={style} className=\"p-4 bg-gray-50 rounded-xl\">\n          <div className=\"text-gray-600 mb-2 text-sm font-medium\">‚ùì FAQ</div>\n          <div className=\"text-xs text-gray-500\">\n            {((configuracion.preguntas as Array<unknown>) || []).length} preguntas\n          </div>\n        </div>\n      );\n    case \"timeline\":\n      return (\n        <div style={style} className=\"p-4 bg-gray-50 rounded-xl\">\n          <div className=\"text-gray-600 mb-2 text-sm font-medium\">‚è±Ô∏è Timeline</div>\n          <div className=\"text-xs text-gray-500\">\n            {((configuracion.eventos as Array<unknown>) || []).length} eventos\n          </div>\n        </div>\n      );\n    case \"social\":\n      return (\n        <div style={style} className=\"p-4\">\n          <div className=\"flex gap-3 justify-center flex-wrap\">\n            {((configuracion.redes as Array<{icono: string}>) || []).slice(0, 4).map((red, i) => (\n              <span key={i} className=\"text-2xl sm:text-3xl\">{red.icono}</span>\n            ))}\n            {((configuracion.redes as Array<unknown>) || []).length > 4 && (\n              <span className=\"text-gray-400 text-sm self-center\">+{((configuracion.redes as Array<unknown>) || []).length - 4}</span>\n            )}\n          </div>\n        </div>\n      );\n    case \"contador\":\n      return (\n        <div style={style} className=\"p-4\">\n          <div className=\"text-2xl sm:text-3xl font-bold text-center\">\n            {(configuracion.prefijo || \"\")}\n            {(contenido.valor as number) || 0}\n            {(configuracion.sufijo || \"\")}\n          </div>\n          {(contenido.label as string) && (\n            <div className=\"text-center text-gray-500 mt-1 text-xs sm:text-sm\">{(contenido.label as string)}</div>\n          )}\n        </div>\n      );\n    case \"newsletter\":\n      return (\n        <div style={style} className=\"rounded-xl p-4\">\n          <h3 className=\"text-base sm:text-lg font-bold mb-2\">{(contenido.titulo as string) || \"Newsletter\"}</h3>\n          <p className=\"mb-3 text-xs sm:text-sm opacity-80\">{(contenido.descripcion as string) || \"Suscr√≠bete\"}</p>\n          <div className=\"flex gap-2\">\n            <input type=\"email\" placeholder=\"Email\" className=\"flex-1 px-3 py-2 border rounded-lg text-xs sm:text-sm bg-white/50\" disabled />\n            <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg text-xs sm:text-sm font-medium\">Suscribir</button>\n          </div>\n        </div>\n      );\n    case \"codigo\":\n      return (\n        <pre style={{...style, background: \"#1f2937\", color: \"#f9fafb\"}} className=\"p-4 rounded-xl overflow-x-auto text-xs sm:text-sm font-mono\">\n          <code className=\"break-all\">{(contenido.codigo as string) || \"// C√≥digo...\"}</code>\n        </pre>\n      );\n    case \"cta\":\n      return (\n        <div style={style} className=\"rounded-xl p-6 text-center\">\n          <h3 className=\"text-lg sm:text-xl font-bold mb-2\">{(contenido.titulo as string) || \"¬°Llama a la acci√≥n!\"}</h3>\n          <p className=\"mb-4 text-xs sm:text-sm opacity-90\">{(contenido.texto as string) || \"Descripci√≥n\"}</p>\n          <button className=\"px-6 py-2 bg-white text-blue-600 rounded-full font-bold text-xs sm:text-sm shadow-lg\">\n            {(contenido.boton as string) || \"Comenzar\"}\n          </button>\n        </div>\n      );\n    case \"galeria\":\n      const imagenes = (contenido.imagenes as Array<{src: string}>) || [];\n      return (\n        <div style={style} className=\"p-4 bg-gray-50 rounded-xl\">\n          <div className=\"text-gray-600 mb-2 text-sm font-medium\">üñºÔ∏è Galer√≠a ({imagenes.length} imgs)</div>\n          <div className=\"grid grid-cols-3 sm:grid-cols-4 gap-2\">\n            {imagenes.slice(0, 4).map((img, i) => (\n              <div key={i} className=\"aspect-square bg-gray-200 rounded-lg overflow-hidden\">\n                {img.src ? (\n                  <img src={img.src} alt=\"\" className=\"w-full h-full object-cover\" />\n                ) : (\n                  <div className=\"w-full h-full flex items-center justify-center text-xs text-gray-400\">Sin img</div>\n                )}\n              </div>\n            ))}\n            {imagenes.length > 4 && (\n              <div className=\"aspect-square bg-gray-200 rounded-lg flex items-center justify-center text-xs text-gray-500 font-medium\">\n                +{imagenes.length - 4}\n              </div>\n            )}\n          </div>\n        </div>\n      );\n    case \"boton\":\n      return (\n        <div style={style} className=\"p-4 text-center\">\n          <button className=\"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-medium text-sm shadow-md\">\n            {(contenido.texto as string) || \"Bot√≥n\"}\n          </button>\n        </div>\n      );\n    default:\n      return (\n        <div style={style} className=\"p-4 bg-gray-100 rounded-xl text-gray-600 text-sm\">\n          Bloque: {tipo}\n        </div>\n      );\n  }\n});\n\nVistaPreviaBloque.displayName = \"VistaPreviaBloque\";\n\n// ==========================================\n// COMPONENTE: PANEL DE EDICI√ìN (OPTIMIZADO - SIN CIERRE DE TECLADO)\n// ==========================================\n\nconst PanelEdicionBloque: React.FC<{\n  bloque: Bloque;\n  onChange: (updates: Partial<Bloque>) => void;\n}> = memo(({ bloque, onChange }) => {\n  const { tipo, contenido, estilos, configuracion } = bloque;\n  const [activeTab, setActiveTab] = useState<\"contenido\" | \"estilos\" | \"config\">(\"contenido\");\n\n  // Usar refs para evitar re-renders durante la escritura\n  const contenidoRef = useRef(contenido);\n  const estilosRef = useRef(estilos);\n  const configRef = useRef(configuracion);\n\n  useEffect(() => {\n    contenidoRef.current = contenido;\n    estilosRef.current = estilos;\n    configRef.current = configuracion;\n  }, [contenido, estilos, configuracion]);\n\n  const updateContenido = useCallback((key: string, value: unknown) => {\n    contenidoRef.current = { ...contenidoRef.current, [key]: value };\n    onChange({ contenido: contenidoRef.current });\n  }, [onChange]);\n\n  const updateEstilo = useCallback((key: keyof EstilosBloque, value: string) => {\n    estilosRef.current = { ...estilosRef.current, [key]: value };\n    onChange({ estilos: estilosRef.current });\n  }, [onChange]);\n\n  const updateConfig = useCallback((key: keyof ConfiguracionBloque, value: unknown) => {\n    configRef.current = { ...configRef.current, [key]: value };\n    onChange({ configuracion: configRef.current });\n  }, [onChange]);\n\n  const updateArrayItem = useCallback((arrayKey: keyof ConfiguracionBloque, index: number, item: unknown) => {\n    const currentArray = (configRef.current[arrayKey] as Array<unknown>) || [];\n    const newArray = [...currentArray];\n    newArray[index] = item;\n    configRef.current = { ...configRef.current, [arrayKey]: newArray };\n    onChange({ configuracion: configRef.current });\n  }, [onChange]);\n\n  const addArrayItem = useCallback((arrayKey: keyof ConfiguracionBloque, defaultItem: unknown) => {\n    const currentArray = (configRef.current[arrayKey] as Array<unknown>) || [];\n    configRef.current = { ...configRef.current, [arrayKey]: [...currentArray, defaultItem] };\n    onChange({ configuracion: configRef.current });\n  }, [onChange]);\n\n  const removeArrayItem = useCallback((arrayKey: keyof ConfiguracionBloque, index: number) => {\n    const currentArray = (configRef.current[arrayKey] as Array<unknown>) || [];\n    configRef.current = { ...configRef.current, [arrayKey]: currentArray.filter((_, i) => i !== index) };\n    onChange({ configuracion: configRef.current });\n  }, [onChange]);\n\n  // Componente de input estable que no causa re-renders\n  const StableInput = memo(({ \n    label, \n    value, \n    onChange, \n    type = \"text\", \n    placeholder = \"\",\n    multiline = false,\n    rows = 3\n  }: { \n    label: string; \n    value: string | number; \n    onChange: (val: string) => void; \n    type?: string;\n    placeholder?: string;\n    multiline?: boolean;\n    rows?: number;\n  }) => {\n    const inputRef = useRef<HTMLInputElement | HTMLTextAreaElement>(null);\n    const [localValue, setLocalValue] = useState(String(value));\n    const isFocusedRef = useRef(false);\n\n    useEffect(() => {\n      if (!isFocusedRef.current && String(value) !== localValue) {\n        setLocalValue(String(value));\n      }\n    }, [value]);\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      const newValue = e.target.value;\n      setLocalValue(newValue);\n    };\n\n    const handleBlur = () => {\n      isFocusedRef.current = false;\n      onChange(localValue);\n    };\n\n    const handleFocus = () => {\n      isFocusedRef.current = true;\n    };\n\n    const inputClass = \"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all bg-white\";\n\n    return (\n      <div className=\"mb-3\">\n        <label className=\"block text-xs font-semibold text-gray-600 uppercase tracking-wider mb-1.5\">\n          {label}\n        </label>\n        {multiline ? (\n          <textarea\n            ref={inputRef as React.RefObject<HTMLTextAreaElement>}\n            value={localValue}\n            onChange={handleChange}\n            onBlur={handleBlur}\n            onFocus={handleFocus}\n            placeholder={placeholder}\n            rows={rows}\n            className={`${inputClass} resize-y min-h-[80px]`}\n          />\n        ) : (\n          <input\n            ref={inputRef as React.RefObject<HTMLInputElement>}\n            type={type}\n            value={localValue}\n            onChange={handleChange}\n            onBlur={handleBlur}\n            onFocus={handleFocus}\n            placeholder={placeholder}\n            className={inputClass}\n          />\n        )}\n      </div>\n    );\n  });\n\n  StableInput.displayName = \"StableInput\";\n\n  // Renderizar campos espec√≠ficos por tipo\n  const renderContenidoFields = () => {\n    switch (tipo) {\n      case \"titulo\":\n      case \"subtitulo\":\n        return (\n          <StableInput\n            label=\"Texto\"\n            value={(contenido.texto as string) || \"\"}\n            onChange={(v) => updateContenido(\"texto\", v)}\n            placeholder=\"Escribe el texto...\"\n          />\n        );\n      \n      case \"texto\":\n        return (\n          <StableInput\n            label=\"Contenido\"\n            value={(contenido.texto as string) || \"\"}\n            onChange={(v) => updateContenido(\"texto\", v)}\n            multiline\n            rows={6}\n            placeholder=\"Escribe el contenido...\"\n          />\n        );\n      \n      case \"imagen\":\n      case \"gif\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput\n              label=\"URL de la imagen\"\n              value={(contenido.src as string) || \"\"}\n              onChange={(v) => updateContenido(\"src\", v)}\n              placeholder=\"https://ejemplo.com/imagen.jpg\"\n            />\n            <StableInput\n              label=\"Texto alternativo (ALT)\"\n              value={(contenido.alt as string) || \"\"}\n              onChange={(v) => updateContenido(\"alt\", v)}\n              placeholder=\"Descripci√≥n de la imagen\"\n            />\n            {tipo === \"imagen\" && (\n              <StableInput\n                label=\"Pie de foto\"\n                value={(contenido.pie as string) || \"\"}\n                onChange={(v) => updateContenido(\"pie\", v)}\n              />\n            )}\n            <label className=\"flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={configuracion.lazyLoading || false}\n                onChange={(e) => updateConfig(\"lazyLoading\", e.target.checked)}\n                className=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"\n              />\n              <span className=\"text-sm text-gray-700\">Lazy loading</span>\n            </label>\n          </div>\n        );\n      \n      case \"video\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput\n              label=\"URL del Video\"\n              value={(contenido.src as string) || \"\"}\n              onChange={(v) => updateContenido(\"src\", v)}\n              placeholder=\"https://youtube.com/watch?v=... o URL directa\"\n            />\n            <div className=\"grid grid-cols-2 gap-3\">\n              <div>\n                <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Aspect Ratio</label>\n                <select\n                  value={configuracion.aspectRatio || \"16/9\"}\n                  onChange={(e) => updateConfig(\"aspectRatio\", e.target.value)}\n                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white\"\n                >\n                  <option value=\"16/9\">16:9</option>\n                  <option value=\"4/3\">4:3</option>\n                  <option value=\"1/1\">1:1</option>\n                  <option value=\"9/16\">9:16 (Vertical)</option>\n                </select>\n              </div>\n              <div className=\"space-y-2\">\n                <label className=\"flex items-center gap-2 text-sm\">\n                  <input type=\"checkbox\" checked={configuracion.autoplay || false} onChange={(e) => updateConfig(\"autoplay\", e.target.checked)} className=\"rounded\" />\n                  Autoplay\n                </label>\n                <label className=\"flex items-center gap-2 text-sm\">\n                  <input type=\"checkbox\" checked={configuracion.loop || false} onChange={(e) => updateConfig(\"loop\", e.target.checked)} className=\"rounded\" />\n                  Loop\n                </label>\n                <label className=\"flex items-center gap-2 text-sm\">\n                  <input type=\"checkbox\" checked={configuracion.muted || false} onChange={(e) => updateConfig(\"muted\", e.target.checked)} className=\"rounded\" />\n                  Muted\n                </label>\n              </div>\n            </div>\n          </div>\n        );\n      \n      case \"card_texto\":\n      case \"card_cta\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput\n              label=\"T√≠tulo\"\n              value={(contenido.titulo as string) || \"\"}\n              onChange={(v) => updateContenido(\"titulo\", v)}\n            />\n            <StableInput\n              label=\"Texto\"\n              value={(contenido.texto as string) || \"\"}\n              onChange={(v) => updateContenido(\"texto\", v)}\n              multiline\n              rows={3}\n            />\n            {tipo === \"card_cta\" && (\n              <>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <StableInput\n                    label=\"Texto del bot√≥n\"\n                    value={(contenido.textoBoton as string) || \"\"}\n                    onChange={(v) => updateContenido(\"textoBoton\", v)}\n                  />\n                  <StableInput\n                    label=\"URL del enlace\"\n                    value={(contenido.enlace as string) || \"\"}\n                    onChange={(v) => updateContenido(\"enlace\", v)}\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Tipo de bot√≥n</label>\n                  <select\n                    value={configuracion.tipoBoton || \"primario\"}\n                    onChange={(e) => updateConfig(\"tipoBoton\", e.target.value)}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white\"\n                  >\n                    <option value=\"primario\">Primario</option>\n                    <option value=\"secundario\">Secundario</option>\n                    <option value=\"outline\">Outline</option>\n                    <option value=\"ghost\">Ghost</option>\n                  </select>\n                </div>\n              </>\n            )}\n          </div>\n        );\n      \n      case \"card_imagen\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput\n              label=\"URL de la imagen\"\n              value={(contenido.src as string) || \"\"}\n              onChange={(v) => updateContenido(\"src\", v)}\n            />\n            <StableInput\n              label=\"Texto alternativo\"\n              value={(contenido.alt as string) || \"\"}\n              onChange={(v) => updateContenido(\"alt\", v)}\n            />\n          </div>\n        );\n      \n      case \"card_mixta\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput\n              label=\"URL de la imagen\"\n              value={(contenido.imagen as string) || \"\"}\n              onChange={(v) => updateContenido(\"imagen\", v)}\n            />\n            <StableInput\n              label=\"T√≠tulo\"\n              value={(contenido.titulo as string) || \"\"}\n              onChange={(v) => updateContenido(\"titulo\", v)}\n            />\n            <StableInput\n              label=\"Texto\"\n              value={(contenido.texto as string) || \"\"}\n              onChange={(v) => updateContenido(\"texto\", v)}\n              multiline\n              rows={3}\n            />\n          </div>\n        );\n      \n      case \"card_links\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput\n              label=\"T√≠tulo de la card\"\n              value={(contenido.titulo as string) || \"\"}\n              onChange={(v) => updateContenido(\"titulo\", v)}\n            />\n            <div className=\"space-y-2\">\n              <label className=\"block text-xs font-semibold text-gray-600 uppercase\">Enlaces</label>\n              {((contenido.links as Array<{texto: string, url: string}>) || []).map((link, index) => (\n                <div key={index} className=\"flex flex-col sm:flex-row gap-2 p-3 bg-white rounded-lg border border-gray-200\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Texto\"\n                    defaultValue={link.texto}\n                    onBlur={(e) => {\n                      const links = [...((contenido.links as Array<{texto: string, url: string}>) || [])];\n                      links[index] = { ...link, texto: e.target.value };\n                      updateContenido(\"links\", links);\n                    }}\n                    className=\"flex-1 border border-gray-300 rounded px-3 py-2 text-sm\"\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder=\"URL\"\n                    defaultValue={link.url}\n                    onBlur={(e) => {\n                      const links = [...((contenido.links as Array<{texto: string, url: string}>) || [])];\n                      links[index] = { ...link, url: e.target.value };\n                      updateContenido(\"links\", links);\n                    }}\n                    className=\"flex-1 border border-gray-300 rounded px-3 py-2 text-sm\"\n                  />\n                  <button\n                    onClick={() => {\n                      const links = ((contenido.links as Array<{texto: string, url: string}>) || []).filter((_, i) => i !== index);\n                      updateContenido(\"links\", links);\n                    }}\n                    className=\"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg text-sm\"\n                  >\n                    ‚úï\n                  </button>\n                </div>\n              ))}\n              <button\n                onClick={() => {\n                  const links = [...((contenido.links as Array<{texto: string, url: string}>) || []), { texto: \"Nuevo enlace\", url: \"#\" }];\n                  updateContenido(\"links\", links);\n                }}\n                className=\"w-full py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg border border-dashed border-blue-300\"\n              >\n                + Agregar enlace\n              </button>\n            </div>\n          </div>\n        );\n      \n      case \"banner\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput\n              label=\"T√≠tulo\"\n              value={(contenido.titulo as string) || \"\"}\n              onChange={(v) => updateContenido(\"titulo\", v)}\n            />\n            <StableInput\n              label=\"Subt√≠tulo\"\n              value={(contenido.subtitulo as string) || \"\"}\n              onChange={(v) => updateContenido(\"subtitulo\", v)}\n            />\n            <label className=\"flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200\">\n              <input\n                type=\"checkbox\"\n                checked={configuracion.fullWidth || false}\n                onChange={(e) => updateConfig(\"fullWidth\", e.target.checked)}\n                className=\"w-4 h-4 rounded\"\n              />\n              <span className=\"text-sm\">Ancho completo</span>\n            </label>\n          </div>\n        );\n      \n      case \"cita\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput\n              label=\"Texto de la cita\"\n              value={(contenido.texto as string) || \"\"}\n              onChange={(v) => updateContenido(\"texto\", v)}\n              multiline\n              rows={4}\n            />\n            <StableInput\n              label=\"Autor\"\n              value={(contenido.autor as string) || \"\"}\n              onChange={(v) => updateContenido(\"autor\", v)}\n              placeholder=\"Nombre del autor\"\n            />\n          </div>\n        );\n      \n      case \"espaciador\":\n        return (\n          <StableInput\n            label=\"Altura\"\n            value={estilos.height || \"2rem\"}\n            onChange={(v) => updateEstilo(\"height\", v)}\n            placeholder=\"2rem, 50px, 100vh\"\n          />\n        );\n      \n      case \"carrusel\":\n      case \"slider\":\n        return (\n          <div className=\"space-y-4\">\n            <label className=\"flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200\">\n              <input\n                type=\"checkbox\"\n                checked={configuracion.autoplay || false}\n                onChange={(e) => updateConfig(\"autoplay\", e.target.checked)}\n                className=\"w-4 h-4 rounded\"\n              />\n              <span className=\"text-sm font-medium\">Autoplay</span>\n            </label>\n            \n            <div>\n              <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-2\">Slides</label>\n              <div className=\"space-y-3\">\n                {((configuracion.slides as Array<{imagen: string, titulo: string, texto: string}>) || []).map((slide, index) => (\n                  <div key={index} className=\"p-3 bg-white rounded-lg border border-gray-200\">\n                    <div className=\"flex justify-between items-center mb-2\">\n                      <span className=\"font-medium text-sm\">Slide {index + 1}</span>\n                      <button\n                        onClick={() => removeArrayItem(\"slides\", index)}\n                        className=\"text-red-600 hover:text-red-800 text-sm\"\n                      >\n                        Eliminar\n                      </button>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"URL imagen\"\n                        defaultValue={slide.imagen}\n                        onBlur={(e) => updateArrayItem(\"slides\", index, { ...slide, imagen: e.target.value })}\n                        className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm\"\n                      />\n                      <input\n                        type=\"text\"\n                        placeholder=\"T√≠tulo\"\n                        defaultValue={slide.titulo}\n                        onBlur={(e) => updateArrayItem(\"slides\", index, { ...slide, titulo: e.target.value })}\n                        className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm\"\n                      />\n                      <textarea\n                        placeholder=\"Texto\"\n                        defaultValue={slide.texto}\n                        onBlur={(e) => updateArrayItem(\"slides\", index, { ...slide, texto: e.target.value })}\n                        rows={2}\n                        className=\"w-full border border-gray-300 rounded px-3 py-2 text-sm resize-none\"\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <button\n                onClick={() => addArrayItem(\"slides\", { imagen: \"\", titulo: \"Nuevo slide\", texto: \"\" })}\n                className=\"mt-3 w-full py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg border border-dashed border-blue-300\"\n              >\n                + Agregar slide\n              </button>\n            </div>\n          </div>\n        );\n      \n      case \"testimonial\":\n        return (\n          <div className=\"space-y-3\">\n            <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-2\">Testimonios</label>\n            {((configuracion.testimonios as Array<any>) || []).map((test, index) => (\n              <div key={index} className=\"p-3 bg-white rounded-lg border border-gray-200\">\n                <div className=\"flex justify-between items-center mb-2\">\n                  <span className=\"font-medium text-sm\">Testimonio {index + 1}</span>\n                  <button onClick={() => removeArrayItem(\"testimonios\", index)} className=\"text-red-600 text-sm\">Eliminar</button>\n                </div>\n                <div className=\"space-y-2\">\n                  <input type=\"text\" placeholder=\"Nombre\" defaultValue={test.nombre} onBlur={(e) => updateArrayItem(\"testimonios\", index, { ...test, nombre: e.target.value })} className=\"w-full border rounded px-3 py-2 text-sm\" />\n                  <input type=\"text\" placeholder=\"Cargo\" defaultValue={test.cargo} onBlur={(e) => updateArrayItem(\"testimonios\", index, { ...test, cargo: e.target.value })} className=\"w-full border rounded px-3 py-2 text-sm\" />\n                  <input type=\"text\" placeholder=\"URL imagen\" defaultValue={test.imagen || \"\"} onBlur={(e) => updateArrayItem(\"testimonios\", index, { ...test, imagen: e.target.value })} className=\"w-full border rounded px-3 py-2 text-sm\" />\n                  <textarea placeholder=\"Texto\" defaultValue={test.texto} onBlur={(e) => updateArrayItem(\"testimonios\", index, { ...test, texto: e.target.value })} rows={2} className=\"w-full border rounded px-3 py-2 text-sm resize-none\" />\n                </div>\n              </div>\n            ))}\n            <button onClick={() => addArrayItem(\"testimonios\", { nombre: \"Nombre\", cargo: \"Cargo\", texto: \"Texto\" })} className=\"w-full py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg border border-dashed border-blue-300\">+ Agregar testimonio</button>\n          </div>\n        );\n      \n      case \"lista_iconos\":\n        return (\n          <div className=\"space-y-3\">\n            <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-2\">Items</label>\n            {((configuracion.iconos as Array<any>) || []).map((item, index) => (\n              <div key={index} className=\"flex gap-2 p-2 bg-white rounded-lg border border-gray-200\">\n                <input type=\"text\" placeholder=\"Icono\" defaultValue={item.icono} onBlur={(e) => updateArrayItem(\"iconos\", index, { ...item, icono: e.target.value })} className=\"w-16 border rounded px-2 py-2 text-center text-lg\" />\n                <input type=\"text\" placeholder=\"Texto\" defaultValue={item.texto} onBlur={(e) => updateArrayItem(\"iconos\", index, { ...item, texto: e.target.value })} className=\"flex-1 border rounded px-3 py-2 text-sm\" />\n                <button onClick={() => removeArrayItem(\"iconos\", index)} className=\"px-2 text-red-600 hover:bg-red-50 rounded\">‚úï</button>\n              </div>\n            ))}\n            <button onClick={() => addArrayItem(\"iconos\", { icono: \"‚úì\", texto: \"Nuevo item\" })} className=\"w-full py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg border border-dashed border-blue-300\">+ Agregar item</button>\n          </div>\n        );\n      \n      case \"contador\":\n        return (\n          <div className=\"space-y-3\">\n            <div className=\"grid grid-cols-2 gap-3\">\n              <StableInput label=\"Valor final\" type=\"number\" value={(contenido.valor as number) || 0} onChange={(v) => updateContenido(\"valor\", parseInt(v) || 0)} />\n              <StableInput label=\"Duraci√≥n (ms)\" type=\"number\" value={configuracion.duracion || 2000} onChange={(v) => updateConfig(\"duracion\", parseInt(v) || 2000)} />\n            </div>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <StableInput label=\"Prefijo\" value={configuracion.prefijo || \"\"} onChange={(v) => updateConfig(\"prefijo\", v)} placeholder=\"$\" />\n              <StableInput label=\"Sufijo\" value={configuracion.sufijo || \"\"} onChange={(v) => updateConfig(\"sufijo\", v)} placeholder=\"+\" />\n            </div>\n            <StableInput label=\"Label\" value={(contenido.label as string) || \"\"} onChange={(v) => updateContenido(\"label\", v)} placeholder=\"Clientes satisfechos\" />\n          </div>\n        );\n      \n      case \"newsletter\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput label=\"T√≠tulo\" value={(contenido.titulo as string) || \"\"} onChange={(v) => updateContenido(\"titulo\", v)} />\n            <StableInput label=\"Descripci√≥n\" value={(contenido.descripcion as string) || \"\"} onChange={(v) => updateContenido(\"descripcion\", v)} multiline rows={3} />\n            <div className=\"grid grid-cols-2 gap-3\">\n              <StableInput label=\"Placeholder\" value={(contenido.placeholder as string) || \"tu@email.com\"} onChange={(v) => updateContenido(\"placeholder\", v)} />\n              <StableInput label=\"Texto bot√≥n\" value={(contenido.textoBoton as string) || \"Suscribirse\"} onChange={(v) => updateContenido(\"textoBoton\", v)} />\n            </div>\n          </div>\n        );\n      \n      case \"codigo\":\n        return (\n          <div className=\"space-y-3\">\n            <div>\n              <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Lenguaje</label>\n              <select\n                value={(contenido.lenguaje as string) || \"javascript\"}\n                onChange={(e) => updateContenido(\"lenguaje\", e.target.value)}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white\"\n              >\n                <option value=\"javascript\">JavaScript</option>\n                <option value=\"typescript\">TypeScript</option>\n                <option value=\"html\">HTML</option>\n                <option value=\"css\">CSS</option>\n                <option value=\"python\">Python</option>\n                <option value=\"bash\">Bash</option>\n                <option value=\"json\">JSON</option>\n                <option value=\"sql\">SQL</option>\n              </select>\n            </div>\n            <StableInput label=\"C√≥digo\" value={(contenido.codigo as string) || \"\"} onChange={(v) => updateContenido(\"codigo\", v)} multiline rows={8} />\n          </div>\n        );\n      \n      case \"cta\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput label=\"T√≠tulo\" value={(contenido.titulo as string) || \"\"} onChange={(v) => updateContenido(\"titulo\", v)} />\n            <StableInput label=\"Texto\" value={(contenido.texto as string) || \"\"} onChange={(v) => updateContenido(\"texto\", v)} multiline rows={3} />\n            <div className=\"grid grid-cols-2 gap-3\">\n              <StableInput label=\"Texto bot√≥n\" value={(contenido.boton as string) || \"\"} onChange={(v) => updateContenido(\"boton\", v)} />\n              <StableInput label=\"URL\" value={(contenido.url as string) || \"\"} onChange={(v) => updateContenido(\"url\", v)} />\n            </div>\n          </div>\n        );\n      \n      case \"galeria\":\n        return (\n          <div className=\"space-y-3\">\n            <div>\n              <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Columnas</label>\n              <input\n                type=\"number\"\n                min={1}\n                max={6}\n                value={configuracion.columns || 3}\n                onChange={(e) => updateConfig(\"columns\", parseInt(e.target.value) || 3)}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm\"\n              />\n            </div>\n            <label className=\"flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200\">\n              <input type=\"checkbox\" checked={configuracion.lightbox || false} onChange={(e) => updateConfig(\"lightbox\", e.target.checked)} className=\"rounded\" />\n              <span className=\"text-sm\">Activar lightbox</span>\n            </label>\n            <div className=\"space-y-2\">\n              <label className=\"block text-xs font-semibold text-gray-600 uppercase\">Im√°genes</label>\n              {((contenido.imagenes as Array<any>) || []).map((img, index) => (\n                <div key={index} className=\"flex gap-2 p-2 bg-white rounded-lg border border-gray-200\">\n                  <input type=\"text\" placeholder=\"URL\" defaultValue={img.src} onBlur={(e) => {\n                    const imgs = [...((contenido.imagenes as Array<any>) || [])];\n                    imgs[index] = { ...img, src: e.target.value };\n                    updateContenido(\"imagenes\", imgs);\n                  }} className=\"flex-1 border rounded px-3 py-2 text-sm\" />\n                  <input type=\"text\" placeholder=\"Alt\" defaultValue={img.alt} onBlur={(e) => {\n                    const imgs = [...((contenido.imagenes as Array<any>) || [])];\n                    imgs[index] = { ...img, alt: e.target.value };\n                    updateContenido(\"imagenes\", imgs);\n                  }} className=\"w-24 border rounded px-3 py-2 text-sm\" />\n                  <button onClick={() => {\n                    const imgs = ((contenido.imagenes as Array<any>) || []).filter((_, i) => i !== index);\n                    updateContenido(\"imagenes\", imgs);\n                  }} className=\"px-2 text-red-600 hover:bg-red-50 rounded\">‚úï</button>\n                </div>\n              ))}\n              <button onClick={() => {\n                const imgs = [...((contenido.imagenes as Array<any>) || []), { src: \"\", alt: \"\" }];\n                updateContenido(\"imagenes\", imgs);\n              }} className=\"w-full py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg border border-dashed border-blue-300\">+ Agregar imagen</button>\n            </div>\n          </div>\n        );\n      \n      case \"boton\":\n        return (\n          <div className=\"space-y-3\">\n            <StableInput label=\"Texto del bot√≥n\" value={(contenido.texto as string) || \"\"} onChange={(v) => updateContenido(\"texto\", v)} />\n            <StableInput label=\"URL\" value={(contenido.url as string) || \"\"} onChange={(v) => updateContenido(\"url\", v)} />\n            <div className=\"grid grid-cols-2 gap-3\">\n              <div>\n                <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Variante</label>\n                <select value={configuracion.variante || \"solid\"} onChange={(e) => updateConfig(\"variante\", e.target.value)} className=\"w-full border rounded-lg px-3 py-2 text-sm bg-white\">\n                  <option value=\"solid\">S√≥lido</option>\n                  <option value=\"outline\">Outline</option>\n                  <option value=\"ghost\">Ghost</option>\n                  <option value=\"link\">Link</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Tama√±o</label>\n                <select value={configuracion.tama√±o || \"md\"} onChange={(e) => updateConfig(\"tama√±o\", e.target.value)} className=\"w-full border rounded-lg px-3 py-2 text-sm bg-white\">\n                  <option value=\"sm\">Peque√±o</option>\n                  <option value=\"md\">Mediano</option>\n                  <option value=\"lg\">Grande</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        );\n      \n      default:\n        return (\n          <div className=\"p-4 bg-gray-100 rounded-lg text-gray-600 text-sm text-center\">\n            Configuraci√≥n b√°sica disponible en la pesta√±a \"Estilos\"\n          </div>\n        );\n    }\n  };\n\n  // Renderizar pesta√±a de estilos\n  const renderEstilosFields = () => (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n      <div>\n        <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Color texto</label>\n        <div className=\"flex gap-2\">\n          <input\n            type=\"color\"\n            value={estilos.color || \"#000000\"}\n            onChange={(e) => updateEstilo(\"color\", e.target.value)}\n            className=\"w-12 h-10 rounded-lg cursor-pointer border border-gray-300\"\n          />\n          <input\n            type=\"text\"\n            value={estilos.color || \"\"}\n            onChange={(e) => updateEstilo(\"color\", e.target.value)}\n            placeholder=\"#000000\"\n            className=\"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm\"\n          />\n        </div>\n      </div>\n      \n      <div>\n        <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Color fondo</label>\n        <div className=\"flex gap-2\">\n          <input\n            type=\"color\"\n            value={estilos.background || \"#ffffff\"}\n            onChange={(e) => updateEstilo(\"background\", e.target.value)}\n            className=\"w-12 h-10 rounded-lg cursor-pointer border border-gray-300\"\n          />\n          <input\n            type=\"text\"\n            value={estilos.background || \"\"}\n            onChange={(e) => updateEstilo(\"background\", e.target.value)}\n            placeholder=\"transparent\"\n            className=\"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm\"\n          />\n        </div>\n      </div>\n\n      <StableInput label=\"Padding\" value={estilos.padding || \"\"} onChange={(v) => updateEstilo(\"padding\", v)} placeholder=\"1rem, 16px\" />\n      <StableInput label=\"Margin\" value={estilos.margin || \"\"} onChange={(v) => updateEstilo(\"margin\", v)} placeholder=\"0\" />\n      <StableInput label=\"Border Radius\" value={estilos.borderRadius || \"\"} onChange={(v) => updateEstilo(\"borderRadius\", v)} placeholder=\"0.5rem\" />\n      <StableInput label=\"Sombra\" value={estilos.boxShadow || \"\"} onChange={(v) => updateEstilo(\"boxShadow\", v)} placeholder=\"0 4px 6px rgba(0,0,0,0.1)\" />\n      \n      <div>\n        <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Alineaci√≥n texto</label>\n        <select\n          value={estilos.textAlign || \"left\"}\n          onChange={(e) => updateEstilo(\"textAlign\", e.target.value)}\n          className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white\"\n        >\n          <option value=\"left\">Izquierda</option>\n          <option value=\"center\">Centro</option>\n          <option value=\"right\">Derecha</option>\n          <option value=\"justify\">Justificado</option>\n        </select>\n      </div>\n\n      <StableInput label=\"Tama√±o fuente\" value={estilos.fontSize || \"\"} onChange={(v) => updateEstilo(\"fontSize\", v)} placeholder=\"1rem, 16px\" />\n      <StableInput label=\"Peso fuente\" value={estilos.fontWeight || \"\"} onChange={(v) => updateEstilo(\"fontWeight\", v)} placeholder=\"400, 700\" />\n      <StableInput label=\"Altura l√≠nea\" value={estilos.lineHeight || \"\"} onChange={(v) => updateEstilo(\"lineHeight\", v)} placeholder=\"1.5\" />\n      <StableInput label=\"Espaciado letras\" value={estilos.letterSpacing || \"\"} onChange={(v) => updateEstilo(\"letterSpacing\", v)} placeholder=\"0\" />\n      \n      <div>\n        <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Transform</label>\n        <select\n          value={estilos.textTransform || \"none\"}\n          onChange={(e) => updateEstilo(\"textTransform\", e.target.value)}\n          className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white\"\n        >\n          <option value=\"none\">Normal</option>\n          <option value=\"uppercase\">MAY√öSCULAS</option>\n          <option value=\"lowercase\">min√∫sculas</option>\n          <option value=\"capitalize\">Capitalizar</option>\n        </select>\n      </div>\n\n      <StableInput label=\"Ancho m√°ximo\" value={estilos.maxWidth || \"\"} onChange={(v) => updateEstilo(\"maxWidth\", v)} placeholder=\"100%, 1200px\" />\n    </div>\n  );\n\n  // Renderizar pesta√±a de configuraci√≥n\n  const renderConfigFields = () => {\n    const configs: JSX.Element[] = [];\n\n    if (tipo === \"grid\" || tipo === \"galeria\") {\n      configs.push(\n        <div key=\"cols\" className=\"mb-4\">\n          <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Columnas (desktop)</label>\n          <input\n            type=\"number\"\n            min={1}\n            max={12}\n            value={configuracion.columns || 2}\n            onChange={(e) => updateConfig(\"columns\", parseInt(e.target.value))}\n            className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm\"\n          />\n        </div>\n      );\n    }\n\n    if (tipo === \"flex\") {\n      configs.push(\n        <div key=\"flex\" className=\"space-y-3\">\n          <div>\n            <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Direcci√≥n</label>\n            <select\n              value={estilos.flexDirection || \"row\"}\n              onChange={(e) => updateEstilo(\"flexDirection\", e.target.value)}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white\"\n            >\n              <option value=\"row\">Fila</option>\n              <option value=\"column\">Columna</option>\n              <option value=\"row-reverse\">Fila inversa</option>\n              <option value=\"column-reverse\">Columna inversa</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Justify Content</label>\n            <select\n              value={estilos.justifyContent || \"flex-start\"}\n              onChange={(e) => updateEstilo(\"justifyContent\", e.target.value)}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white\"\n            >\n              <option value=\"flex-start\">Inicio</option>\n              <option value=\"center\">Centro</option>\n              <option value=\"flex-end\">Final</option>\n              <option value=\"space-between\">Espacio entre</option>\n              <option value=\"space-around\">Espacio alrededor</option>\n              <option value=\"space-evenly\">Espacio uniforme</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Align Items</label>\n            <select\n              value={estilos.alignItems || \"stretch\"}\n              onChange={(e) => updateEstilo(\"alignItems\", e.target.value)}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white\"\n            >\n              <option value=\"stretch\">Estirar</option>\n              <option value=\"flex-start\">Inicio</option>\n              <option value=\"center\">Centro</option>\n              <option value=\"flex-end\">Final</option>\n              <option value=\"baseline\">L√≠nea base</option>\n            </select>\n          </div>\n          <StableInput label=\"Gap\" value={estilos.gap || \"\"} onChange={(v) => updateEstilo(\"gap\", v)} placeholder=\"1rem\" />\n        </div>\n      );\n    }\n\n    if (tipo === \"carrusel\" || tipo === \"slider\") {\n      configs.push(\n        <div key=\"carousel\" className=\"space-y-3\">\n          <label className=\"flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200\">\n            <input type=\"checkbox\" checked={configuracion.mostrarDots !== false} onChange={(e) => updateConfig(\"mostrarDots\", e.target.checked)} className=\"rounded\" />\n            <span className=\"text-sm\">Mostrar dots</span>\n          </label>\n          <label className=\"flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200\">\n            <input type=\"checkbox\" checked={configuracion.mostrarFlechas !== false} onChange={(e) => updateConfig(\"mostrarFlechas\", e.target.checked)} className=\"rounded\" />\n            <span className=\"text-sm\">Mostrar flechas</span>\n          </label>\n          <div>\n            <label className=\"block text-xs font-semibold text-gray-600 uppercase mb-1.5\">Intervalo (ms)</label>\n            <input\n              type=\"number\"\n              value={configuracion.intervalo || 5000}\n              onChange={(e) => updateConfig(\"intervalo\", parseInt(e.target.value))}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm\"\n            />\n          </div>\n        </div>\n      );\n    }\n\n    if (configs.length === 0) {\n      return (\n        <div className=\"text-center py-8 text-gray-500 text-sm\">\n          No hay configuraciones adicionales para este tipo de bloque\n        </div>\n      );\n    }\n\n    return <div className=\"space-y-4\">{configs}</div>;\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Tabs de navegaci√≥n */}\n      <div className=\"flex gap-1 p-1 bg-gray-200 rounded-lg\">\n        {[\n          { id: \"contenido\", label: \"Contenido\", icon: \"üìù\" },\n          { id: \"estilos\", label: \"Estilos\", icon: \"üé®\" },\n          { id: \"config\", label: \"Config\", icon: \"‚öôÔ∏è\" },\n        ].map((tab) => (\n          <button\n            key={tab.id}\n            onClick={() => setActiveTab(tab.id as any)}\n            className={`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-md text-sm font-medium transition-all ${\n              activeTab === tab.id\n                ? \"bg-white text-blue-600 shadow-sm\"\n                : \"text-gray-600 hover:text-gray-800\"\n            }`}\n          >\n            <span>{tab.icon}</span>\n            <span className=\"hidden sm:inline\">{tab.label}</span>\n          </button>\n        ))}\n      </div>\n\n      {/* Contenido de la pesta√±a activa */}\n      <div className=\"min-h-[200px]\">\n        {activeTab === \"contenido\" && renderContenidoFields()}\n        {activeTab === \"estilos\" && renderEstilosFields()}\n        {activeTab === \"config\" && renderConfigFields()}\n      </div>\n    </div>\n  );\n});\n\nPanelEdicionBloque.displayName = \"PanelEdicionBloque\";\n\n// ==========================================\n// COMPONENTE: VISTA PREVIA (RESPONSIVE)\n// ==========================================\n\nexport const VistaPrevia: React.FC<VistaPreviaProps> = memo(({\n  publicacion,\n  modo,\n}) => {\n  const [modoActual, setModoActual] = useState(modo);\n\n  if (!publicacion) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <div className=\"text-center\">\n          <div className=\"text-4xl mb-3\">üëÅÔ∏è</div>\n          <p>Selecciona una publicaci√≥n para ver la vista previa</p>\n        </div>\n      </div>\n    );\n  }\n\n  const containerClasses = {\n    desktop: \"w-full max-w-6xl\",\n    tablet: \"w-full max-w-2xl\",\n    mobile: \"w-full max-w-[375px]\",\n  };\n\n  const frameClasses = {\n    desktop: \"border-0 shadow-2xl\",\n    tablet: \"border-[12px] border-gray-800 rounded-[2rem]\",\n    mobile: \"border-[12px] border-gray-800 rounded-[2.5rem]\",\n  };\n\n  return (\n    <div className=\"bg-gray-100 p-2 sm:p-4 min-h-screen\">\n      {/* Selector de dispositivo */}\n      <div className=\"mb-4 flex justify-center gap-2 flex-wrap sticky top-4 z-10 bg-white/80 backdrop-blur p-2 rounded-xl shadow-sm\">\n        {([\n          { id: \"desktop\", label: \"Desktop\", icon: \"üñ•Ô∏è\", width: \"100%\" },\n          { id: \"tablet\", label: \"Tablet\", icon: \"üì±\", width: \"768px\" },\n          { id: \"mobile\", label: \"Mobile\", icon: \"üì≤\", width: \"375px\" },\n        ] as const).map((m) => (\n          <button\n            key={m.id}\n            onClick={() => setModoActual(m.id)}\n            className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ${\n              modoActual === m.id\n                ? \"bg-blue-600 text-white shadow-md\"\n                : \"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200\"\n            }`}\n          >\n            <span>{m.icon}</span>\n            <span className=\"hidden sm:inline\">{m.label}</span>\n          </button>\n        ))}\n      </div>\n\n      {/* Marco del dispositivo */}\n      <div className={`${containerClasses[modoActual]} mx-auto transition-all duration-500`}>\n        <div className={`bg-white overflow-hidden ${frameClasses[modoActual]}`}>\n          {modoActual !== \"desktop\" && (\n            <div className=\"bg-gray-800 h-6 flex items-center justify-center\">\n              <div className=\"w-20 h-4 bg-gray-700 rounded-full\" />\n            </div>\n          )}\n          \n          <div className=\"p-4 sm:p-6 min-h-[400px] sm:min-h-[600px]\">\n            {/* Header de la publicaci√≥n */}\n            <header className=\"mb-6 pb-4 border-b border-gray-200\">\n              <h1 className=\"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2\">\n                {publicacion.titulo}\n              </h1>\n              {publicacion.meta?.descripcion && (\n                <p className=\"text-gray-600 text-sm sm:text-base leading-relaxed\">\n                  {publicacion.meta.descripcion}\n                </p>\n              )}\n              <div className=\"flex flex-wrap items-center gap-3 mt-3 text-xs text-gray-500\">\n                <span className=\"px-2 py-1 bg-gray-100 rounded-full\">\n                  {new Date(publicacion.fechaModificacion).toLocaleDateString(\"es-CL\")}\n                </span>\n                {publicacion.meta?.categoria && (\n                  <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded-full\">\n                    {publicacion.meta.categoria}\n                  </span>\n                )}\n                {publicacion.destacado && (\n                  <span className=\"px-2 py-1 bg-amber-100 text-amber-700 rounded-full\">\n                    ‚≠ê Destacado\n                  </span>\n                )}\n              </div>\n            </header>\n\n            {/* Bloques */}\n            <div className=\"space-y-4 sm:space-y-6\">\n              {publicacion.bloques.map((bloque) => (\n                <VistaPreviaBloque key={bloque.id} bloque={bloque} />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nVistaPrevia.displayName = \"VistaPrevia\";\n\n// ==========================================\n// COMPONENTE: LISTA DE PUBLICACIONES\n// ==========================================\n\nexport const ListaPublicaciones: React.FC<{\n  publicaciones: Publicacion[];\n  onSeleccionar: (id: string) => void;\n  onEliminar: (id: string) => void;\n  onDuplicar: (id: string) => void;\n  onCambiarEstado: (id: string, estado: \"borrador\" | \"publicado\") => void;\n}> = memo(({ publicaciones, onSeleccionar, onEliminar, onDuplicar, onCambiarEstado }) => {\n  const [filtro, setFiltro] = useState<\"todos\" | \"publicado\" | \"borrador\">(\"todos\");\n  const [busqueda, setBusqueda] = useState(\"\");\n\n  const publicacionesFiltradas = publicaciones\n    .filter(p => filtro === \"todos\" || p.estado === filtro)\n    .filter(p => p.titulo.toLowerCase().includes(busqueda.toLowerCase()) || \n                 p.meta?.descripcion?.toLowerCase().includes(busqueda.toLowerCase()));\n\n  return (\n    <div className=\"space-y-4 sm:space-y-6\">\n      {/* Filtros y b√∫squeda */}\n      <div className=\"bg-white p-4 rounded-xl shadow-sm border border-gray-200\">\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <svg className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n              <input\n                type=\"text\"\n                value={busqueda}\n                onChange={(e) => setBusqueda(e.target.value)}\n                placeholder=\"Buscar publicaciones...\"\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n          </div>\n          <div className=\"flex gap-2\">\n            {([\"todos\", \"publicado\", \"borrador\"] as const).map((f) => (\n              <button\n                key={f}\n                onClick={() => setFiltro(f)}\n                className={`px-4 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${\n                  filtro === f\n                    ? \"bg-blue-600 text-white\"\n                    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                }`}\n              >\n                {f === \"todos\" ? \"Todos\" : f === \"publicado\" ? \"Publicados\" : \"Borradores\"}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Grid de publicaciones */}\n      <div className=\"grid gap-4\">\n        {publicacionesFiltradas.map((pub) => (\n          <div\n            key={pub.id}\n            className=\"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all\"\n          >\n            <div className=\"flex flex-col lg:flex-row lg:items-center gap-4\">\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-start gap-3 mb-2\">\n                  <h3 className=\"text-base sm:text-lg font-bold text-gray-900 line-clamp-2 flex-1\">\n                    {pub.titulo || \"Sin t√≠tulo\"}\n                  </h3>\n                  <span\n                    className={`flex-shrink-0 px-2 py-1 rounded-full text-xs font-bold ${\n                      pub.estado === \"publicado\"\n                        ? \"bg-green-100 text-green-700\"\n                        : \"bg-amber-100 text-amber-700\"\n                    }`}\n                  >\n                    {pub.estado === \"publicado\" ? \"‚óè Publicado\" : \"‚óã Borrador\"}\n                  </span>\n                </div>\n                \n                {pub.meta?.descripcion && (\n                  <p className=\"text-gray-600 text-sm line-clamp-2 mb-3\">\n                    {pub.meta.descripcion}\n                  </p>\n                )}\n                \n                <div className=\"flex flex-wrap items-center gap-3 text-xs text-gray-500\">\n                  <span className=\"flex items-center gap-1\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                    </svg>\n                    {new Date(pub.fechaModificacion).toLocaleDateString(\"es-CL\")}\n                  </span>\n                  <span className=\"flex items-center gap-1\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\" />\n                    </svg>\n                    {pub.bloques.length} bloques\n                  </span>\n                  {pub.destacado && (\n                    <span className=\"px-2 py-0.5 bg-amber-100 text-amber-700 rounded-full\">\n                      ‚≠ê Destacado\n                    </span>\n                  )}\n                  {pub.meta?.categoria && (\n                    <span className=\"px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full\">\n                      {pub.meta.categoria}\n                    </span>\n                  )}\n                </div>\n              </div>\n              \n              <div className=\"flex flex-wrap gap-2\">\n                <button\n                  onClick={() => onSeleccionar(pub.id)}\n                  className=\"flex-1 sm:flex-none px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center justify-center gap-2\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                  </svg>\n                  Editar\n                </button>\n                <button\n                  onClick={() => onCambiarEstado(pub.id, pub.estado === \"publicado\" ? \"borrador\" : \"publicado\")}\n                  className={`flex-1 sm:flex-none px-4 py-2 rounded-lg transition-colors text-sm font-medium flex items-center justify-center gap-2 ${\n                    pub.estado === \"publicado\"\n                      ? \"bg-amber-100 text-amber-700 hover:bg-amber-200\"\n                      : \"bg-green-100 text-green-700 hover:bg-green-200\"\n                  }`}\n                >\n                  {pub.estado === \"publicado\" ? \"Despublicar\" : \"Publicar\"}\n                </button>\n                <button\n                  onClick={() => onDuplicar(pub.id)}\n                  className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium\"\n                  title=\"Duplicar\"\n                >\n                  üìã\n                </button>\n                <button\n                  onClick={() => {\n                    if (confirm(\"¬øEliminar esta publicaci√≥n permanentemente?\")) {\n                      onEliminar(pub.id);\n                    }\n                  }}\n                  className=\"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium\"\n                  title=\"Eliminar\"\n                >\n                  üóëÔ∏è\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n        \n        {publicacionesFiltradas.length === 0 && (\n          <div className=\"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300\">\n            <div className=\"text-4xl mb-3\">üîç</div>\n            <p className=\"text-gray-500\">\n              {busqueda ? \"No se encontraron publicaciones\" : \"No hay publicaciones\"}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\nListaPublicaciones.displayName = \"ListaPublicaciones\";\n\n// ==========================================\n// FUNCIONES AUXILIARES\n// ==========================================\n\nfunction obtenerContenidoPorDefecto(tipo: TipoBloque): Record<string, unknown> {\n  const defaults: Record<TipoBloque, Record<string, unknown>> = {\n    titulo: { texto: \"Nuevo T√≠tulo\" },\n    subtitulo: { texto: \"Nuevo Subt√≠tulo\" },\n    texto: { texto: \"Escribe tu contenido aqu√≠...\" },\n    imagen: { src: \"\", alt: \"\", pie: \"\" },\n    galeria: { imagenes: [] },\n    gif: { src: \"\", alt: \"\" },\n    video: { src: \"\" },\n    card_texto: { titulo: \"\", texto: \"\" },\n    card_imagen: { src: \"\", alt: \"\" },\n    card_mixta: { titulo: \"\", texto: \"\", imagen: \"\" },\n    card_cta: { titulo: \"\", texto: \"\", textoBoton: \"Click aqu√≠\", enlace: \"#\" },\n    card_links: { titulo: \"\", links: [] },\n    banner: { titulo: \"\", subtitulo: \"\" },\n    carrusel: {},\n    slider: {},\n    testimonial: {},\n    lista_iconos: {},\n    tabla: {},\n    accordion: {},\n    tabs: {},\n    faq: {},\n    timeline: {},\n    cita: { texto: \"\", autor: \"\" },\n    social: {},\n    contador: { valor: 100, label: \"\" },\n    newsletter: { titulo: \"Suscr√≠bete\", descripcion: \"Recibe nuestras novedades\", placeholder: \"tu@email.com\", textoBoton: \"Suscribirse\" },\n    codigo: { codigo: \"\", lenguaje: \"javascript\" },\n    espaciador: {},\n    grid: {},\n    flex: {},\n    cta: { titulo: \"\", texto: \"\", boton: \"Comenzar\", url: \"#\" },\n    separador: {},\n    boton: { texto: \"Click aqu√≠\", url: \"#\" },\n    spacer: {},\n    divider: {},\n  };\n  return defaults[tipo] || {};\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6006, "column": 0}, "map": {"version":3,"sources":["file:///home/proyectos/nextjs/veterinaria/app/editnoticias/page.tsx"],"sourcesContent":["// /app/editnoticias/page.tsx\n\"use client\";\n\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { Publicacion, Bloque, STORAGE_KEY, generarId, generarSlug } from \"@/app/types/noticias\";\nimport { SideMenu, EditorBloques, VistaPrevia, ListaPublicaciones } from \"./components\";\n\nexport default function EditNoticiasPage(): JSX.Element {\n  const [publicaciones, setPublicaciones] = useState<Publicacion[]>([]);\n  const [publicacionActiva, setPublicacionActiva] = useState<string | null>(null);\n  const [vistaActiva, setVistaActiva] = useState<\"editor\" | \"lista\" | \"preview\">(\"lista\");\n  const [modoPreview, setModoPreview] = useState<\"desktop\" | \"tablet\" | \"mobile\">(\"desktop\");\n  const [cargando, setCargando] = useState(true);\n  const [mensaje, setMensaje] = useState<{tipo: \"success\" | \"error\", texto: string} | null>(null);\n  const autoSaveRef = useRef<NodeJS.Timeout>();\n\n  // Cargar datos iniciales\n  useEffect(() => {\n    const cargarDatos = () => {\n      try {\n        const dataGuardada = localStorage.getItem(STORAGE_KEY);\n        if (dataGuardada) {\n          const parsed = JSON.parse(dataGuardada);\n          if (Array.isArray(parsed)) {\n            setPublicaciones(parsed);\n          }\n        }\n      } catch (error) {\n        console.error(\"Error al cargar:\", error);\n        mostrarMensaje(\"error\", \"Error al cargar las publicaciones\");\n      } finally {\n        setCargando(false);\n      }\n    };\n\n    cargarDatos();\n  }, []);\n\n  // Autoguardado\n  useEffect(() => {\n    if (publicaciones.length > 0) {\n      if (autoSaveRef.current) clearTimeout(autoSaveRef.current);\n      autoSaveRef.current = setTimeout(() => {\n        guardarEnStorage(publicaciones);\n      }, 3000);\n    }\n  }, [publicaciones]);\n\n  const mostrarMensaje = (tipo: \"success\" | \"error\", texto: string) => {\n    setMensaje({ tipo, texto });\n    setTimeout(() => setMensaje(null), 3000);\n  };\n\n  const guardarEnStorage = (data: Publicacion[]) => {\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n    } catch (error) {\n      console.error(\"Error al guardar:\", error);\n    }\n  };\n\n  const crearPublicacion = useCallback(() => {\n    const nueva: Publicacion = {\n      id: generarId(),\n      titulo: \"Nueva Publicaci√≥n\",\n      slug: generarSlug(\"nueva-publicacion\"),\n      estado: \"borrador\",\n      fechaCreacion: new Date().toISOString(),\n      fechaModificacion: new Date().toISOString(),\n      bloques: [],\n      destacado: false,\n    };\n\n    setPublicaciones(prev => [nueva, ...prev]);\n    setPublicacionActiva(nueva.id);\n    setVistaActiva(\"editor\");\n    mostrarMensaje(\"success\", \"Publicaci√≥n creada\");\n  }, []);\n\n  const duplicarPublicacion = useCallback((id: string) => {\n    const original = publicaciones.find(p => p.id === id);\n    if (!original) return;\n\n    const duplicada: Publicacion = {\n      ...original,\n      id: generarId(),\n      titulo: `${original.titulo} (copia)`,\n      slug: generarSlug(`${original.titulo}-copia`),\n      estado: \"borrador\",\n      fechaCreacion: new Date().toISOString(),\n      fechaModificacion: new Date().toISOString(),\n    };\n\n    setPublicaciones(prev => [duplicada, ...prev]);\n    mostrarMensaje(\"success\", \"Publicaci√≥n duplicada\");\n  }, [publicaciones]);\n\n  const eliminarPublicacion = useCallback((id: string) => {\n    setPublicaciones(prev => prev.filter(p => p.id !== id));\n    if (publicacionActiva === id) {\n      setPublicacionActiva(null);\n      setVistaActiva(\"lista\");\n    }\n    mostrarMensaje(\"success\", \"Publicaci√≥n eliminada\");\n  }, [publicacionActiva]);\n\n  const cambiarEstado = useCallback((id: string, estado: \"borrador\" | \"publicado\") => {\n    setPublicaciones(prev => prev.map(p => {\n      if (p.id === id) {\n        return {\n          ...p,\n          estado,\n          fechaModificacion: new Date().toISOString(),\n          fechaPublicacion: estado === \"publicado\" ? new Date().toISOString() : p.fechaPublicacion,\n        };\n      }\n      return p;\n    }));\n    mostrarMensaje(\"success\", `Publicaci√≥n ${estado === \"publicado\" ? \"publicada\" : \"movida a borradores\"}`);\n  }, []);\n\n  const actualizarPublicacion = useCallback((actualizada: Publicacion) => {\n    setPublicaciones(prev => prev.map(p => \n      p.id === actualizada.id ? actualizada : p\n    ));\n  }, []);\n\n  const guardarManual = useCallback(() => {\n    guardarEnStorage(publicaciones);\n    mostrarMensaje(\"success\", \"Guardado manual completado\");\n  }, [publicaciones]);\n\n  const publicacionActual = publicaciones.find(p => p.id === publicacionActiva) || null;\n\n  if (cargando) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">Cargando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      {/* Mensaje flotante */}\n      {mensaje && (\n        <div className={`fixed top-4 left-1/2 -translate-x-1/2 z-50 px-6 py-3 rounded-full shadow-lg font-medium text-sm animate-fade-in ${\n          mensaje.tipo === \"success\" ? \"bg-green-600 text-white\" : \"bg-red-600 text-white\"\n        }`}>\n          {mensaje.texto}\n        </div>\n      )}\n\n      {/* Contenido principal */}\n      <main className=\"flex-1 lg:mr-80\">\n        <div className=\"p-4 sm:p-6 lg:p-8 max-w-6xl mx-auto\">\n          {vistaActiva === \"lista\" && (\n            <ListaPublicaciones\n              publicaciones={publicaciones}\n              onSeleccionar={(id) => {\n                setPublicacionActiva(id);\n                setVistaActiva(\"editor\");\n              }}\n              onEliminar={eliminarPublicacion}\n              onDuplicar={duplicarPublicacion}\n              onCambiarEstado={cambiarEstado}\n            />\n          )}\n\n          {vistaActiva === \"editor\" && publicacionActual && (\n            <EditorBloques\n              publicacion={publicacionActual}\n              onChange={actualizarPublicacion}\n              onGuardar={guardarManual}\n            />\n          )}\n\n          {vistaActiva === \"editor\" && !publicacionActual && (\n            <div className=\"text-center py-20\">\n              <div className=\"text-6xl mb-4\">üìù</div>\n              <h2 className=\"text-xl font-bold text-gray-800 mb-2\">Selecciona una publicaci√≥n</h2>\n              <p className=\"text-gray-600 mb-6\">Elige una publicaci√≥n del men√∫ o crea una nueva</p>\n              <button\n                onClick={crearPublicacion}\n                className=\"bg-blue-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-700 transition-colors\"\n              >\n                Crear nueva publicaci√≥n\n              </button>\n            </div>\n          )}\n\n          {vistaActiva === \"preview\" && (\n            <VistaPrevia\n              publicacion={publicacionActual}\n              modo={modoPreview}\n            />\n          )}\n        </div>\n      </main>\n\n      {/* Sidebar */}\n      <SideMenu\n        vistaActiva={vistaActiva}\n        onCambiarVista={(v) => setVistaActiva(v as any)}\n        publicaciones={publicaciones}\n        publicacionActiva={publicacionActiva}\n        onSeleccionarPublicacion={(id) => {\n          setPublicacionActiva(id);\n          setVistaActiva(\"editor\");\n        }}\n        onCrearPublicacion={crearPublicacion}\n        onDuplicarPublicacion={duplicarPublicacion}\n        onEliminarPublicacion={eliminarPublicacion}\n        onCambiarEstado={cambiarEstado}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}