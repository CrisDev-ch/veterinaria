{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/proyectos/nextjs/veterinaria/app/editnoticias/components.tsx"],"sourcesContent":["// /app/editnoticias/components.tsx\n\"use client\";\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  Bloque,\n  TipoBloque,\n  Publicacion,\n  EstilosBloque,\n  ConfiguracionBloque,\n  generarId,\n  estilosPorDefecto,\n} from \"../types/noticias\";\n\n// ==========================================\n// TIPOS LOCALES\n// ==========================================\n\ninterface EditorProps {\n  publicacion: Publicacion;\n  onChange: (publicacion: Publicacion) => void;\n  onGuardar: () => void;\n}\n\ninterface VistaPreviaProps {\n  publicacion: Publicacion | null;\n  modo: \"desktop\" | \"tablet\" | \"mobile\";\n}\n\ninterface SideMenuProps {\n  vistaActiva: string;\n  onCambiarVista: (vista: string) => void;\n  publicaciones: Publicacion[];\n  publicacionActiva: string | null;\n  onSeleccionarPublicacion: (id: string) => void;\n  onCrearPublicacion: () => void;\n  onDuplicarPublicacion: (id: string) => void;\n  onEliminarPublicacion: (id: string) => void;\n  onCambiarEstado: (id: string, estado: \"borrador\" | \"publicado\") => void;\n}\n\n// ==========================================\n// COMPONENTE: SIDE MENU\n// ==========================================\n\nexport const SideMenu: React.FC<SideMenuProps> = ({\n  vistaActiva,\n  onCambiarVista,\n  publicaciones,\n  publicacionActiva,\n  onSeleccionarPublicacion,\n  onCrearPublicacion,\n  onDuplicarPublicacion,\n  onEliminarPublicacion,\n  onCambiarEstado,\n}) => {\n  const [menuAbierto, setMenuAbierto] = useState(false);\n\n  const vistas = [\n    { id: \"editor\", label: \"Editor\", icon: \"‚úèÔ∏è\" },\n    { id: \"lista\", label: \"Publicaciones\", icon: \"üìÑ\" },\n    { id: \"preview\", label: \"Vista Previa\", icon: \"üëÅÔ∏è\" },\n  ];\n\n  return (\n    <>\n      {/* Mobile Menu Toggle */}\n      <button\n        onClick={() => setMenuAbierto(!menuAbierto)}\n        className=\"lg:hidden fixed top-4 right-4 z-50 bg-blue-600 text-white p-3 rounded-full shadow-lg\"\n        aria-label=\"Toggle menu\"\n      >\n        {menuAbierto ? \"‚úï\" : \"‚ò∞\"}\n      </button>\n\n      {/* Side Menu */}\n      <aside\n        className={`fixed right-0 top-0 h-full bg-white shadow-2xl transform transition-transform duration-300 z-40 w-80 ${\n          menuAbierto ? \"translate-x-0\" : \"translate-x-full lg:translate-x-0\"\n        }`}\n      >\n        <div className=\"h-full overflow-y-auto p-6\">\n          <h2 className=\"text-xl font-bold mb-6 text-gray-800\">Constructor</h2>\n\n          {/* Navigation */}\n          <nav className=\"space-y-2 mb-8\">\n            {vistas.map((vista) => (\n              <button\n                key={vista.id}\n                onClick={() => {\n                  onCambiarVista(vista.id);\n                  setMenuAbierto(false);\n                }}\n                className={`w-full text-left px-4 py-3 rounded-lg transition-colors flex items-center gap-3 ${\n                  vistaActiva === vista.id\n                    ? \"bg-blue-100 text-blue-700 font-medium\"\n                    : \"hover:bg-gray-100 text-gray-700\"\n                }`}\n              >\n                <span>{vista.icon}</span>\n                {vista.label}\n              </button>\n            ))}\n          </nav>\n\n          {/* Quick Actions */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3\">\n              Acciones R√°pidas\n            </h3>\n            <button\n              onClick={onCrearPublicacion}\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2\"\n            >\n              <span>+</span> Nueva Publicaci√≥n\n            </button>\n          </div>\n\n          {/* Recent Publications */}\n          <div>\n            <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3\">\n              Recientes\n            </h3>\n            <div className=\"space-y-2\">\n              {publicaciones.slice(0, 5).map((pub) => (\n                <div\n                  key={pub.id}\n                  onClick={() => onSeleccionarPublicacion(pub.id)}\n                  className={`p-3 rounded-lg cursor-pointer transition-colors ${\n                    publicacionActiva === pub.id\n                      ? \"bg-blue-50 border-2 border-blue-200\"\n                      : \"bg-gray-50 hover:bg-gray-100 border-2 border-transparent\"\n                  }`}\n                >\n                  <div className=\"flex justify-between items-start mb-1\">\n                    <span className=\"font-medium text-sm text-gray-800 truncate flex-1\">\n                      {pub.titulo || \"Sin t√≠tulo\"}\n                    </span>\n                    <span\n                      className={`text-xs px-2 py-1 rounded-full ${\n                        pub.estado === \"publicado\"\n                          ? \"bg-green-100 text-green-700\"\n                          : \"bg-yellow-100 text-yellow-700\"\n                      }`}\n                    >\n                      {pub.estado === \"publicado\" ? \"Pub\" : \"Bor\"}\n                    </span>\n                  </div>\n                  <div className=\"flex gap-2 mt-2\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onDuplicarPublicacion(pub.id);\n                      }}\n                      className=\"text-xs text-blue-600 hover:text-blue-800\"\n                      title=\"Duplicar\"\n                    >\n                      üìã\n                    </button>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onCambiarEstado(\n                          pub.id,\n                          pub.estado === \"publicado\" ? \"borrador\" : \"publicado\"\n                        );\n                      }}\n                      className=\"text-xs text-gray-600 hover:text-gray-800\"\n                      title=\"Cambiar estado\"\n                    >\n                      üîÑ\n                    </button>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onEliminarPublicacion(pub.id);\n                      }}\n                      className=\"text-xs text-red-600 hover:text-red-800\"\n                      title=\"Eliminar\"\n                    >\n                      üóëÔ∏è\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </aside>\n\n      {/* Overlay for mobile */}\n      {menuAbierto && (\n        <div\n          className=\"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30\"\n          onClick={() => setMenuAbierto(false)}\n        />\n      )}\n    </>\n  );\n};\n\n// ==========================================\n// COMPONENTE: EDITOR DE BLOQUES\n// ==========================================\n\nexport const EditorBloques: React.FC<EditorProps> = ({\n  publicacion,\n  onChange,\n  onGuardar,\n}) => {\n  const [bloqueEditando, setBloqueEditando] = useState<string | null>(null);\n\n  const agregarBloque = (tipo: TipoBloque) => {\n    const nuevoBloque: Bloque = {\n      id: generarId(),\n      tipo,\n      contenido: obtenerContenidoPorDefecto(tipo),\n      estilos: { ...estilosPorDefecto[tipo] },\n      configuracion: obtenerConfigPorDefecto(tipo),\n    };\n\n    const nuevaPublicacion = {\n      ...publicacion,\n      bloques: [...publicacion.bloques, nuevoBloque],\n      fechaModificacion: new Date().toISOString(),\n    };\n\n    onChange(nuevaPublicacion);\n  };\n\n  const actualizarBloque = (id: string, updates: Partial<Bloque>) => {\n    const nuevosBloques = publicacion.bloques.map((b) =>\n      b.id === id ? { ...b, ...updates } : b\n    );\n\n    onChange({\n      ...publicacion,\n      bloques: nuevosBloques,\n      fechaModificacion: new Date().toISOString(),\n    });\n  };\n\n  const eliminarBloque = (id: string) => {\n    onChange({\n      ...publicacion,\n      bloques: publicacion.bloques.filter((b) => b.id !== id),\n      fechaModificacion: new Date().toISOString(),\n    });\n  };\n\n  const moverBloque = (id: string, direccion: \"arriba\" | \"abajo\") => {\n    const index = publicacion.bloques.findIndex((b) => b.id === id);\n    if (\n      (direccion === \"arriba\" && index === 0) ||\n      (direccion === \"abajo\" && index === publicacion.bloques.length - 1)\n    ) {\n      return;\n    }\n\n    const nuevosBloques = [...publicacion.bloques];\n    const newIndex = direccion === \"arriba\" ? index - 1 : index + 1;\n    [nuevosBloques[index], nuevosBloques[newIndex]] = [\n      nuevosBloques[newIndex],\n      nuevosBloques[index],\n    ];\n\n    onChange({\n      ...publicacion,\n      bloques: nuevosBloques,\n      fechaModificacion: new Date().toISOString(),\n    });\n  };\n\n  const tiposBloque: Array<{ tipo: TipoBloque; label: string; icon: string }> = [\n    { tipo: \"titulo\", label: \"T√≠tulo\", icon: \"T\" },\n    { tipo: \"subtitulo\", label: \"Subt√≠tulo\", icon: \"H2\" },\n    { tipo: \"texto\", label: \"Texto\", icon: \"¬∂\" },\n    { tipo: \"imagen\", label: \"Imagen\", icon: \"üñºÔ∏è\" },\n    { tipo: \"galeria\", label: \"Galer√≠a\", icon: \"üñºÔ∏èüñºÔ∏è\" },\n    { tipo: \"gif\", label: \"GIF\", icon: \"GIF\" },\n    { tipo: \"video\", label: \"Video\", icon: \"‚ñ∂Ô∏è\" },\n    { tipo: \"card_texto\", label: \"Card Texto\", icon: \"üìù\" },\n    { tipo: \"card_imagen\", label: \"Card Imagen\", icon: \"üñºÔ∏è\" },\n    { tipo: \"card_mixta\", label: \"Card Mixta\", icon: \"üé¥\" },\n    { tipo: \"card_cta\", label: \"Card CTA\", icon: \"üëÜ\" },\n    { tipo: \"card_links\", label: \"Card Links\", icon: \"üîó\" },\n    { tipo: \"banner\", label: \"Banner Hero\", icon: \"üéØ\" },\n    { tipo: \"carrusel\", label: \"Carrusel\", icon: \"üé†\" },\n    { tipo: \"slider\", label: \"Slider\", icon: \"üé¢\" },\n    { tipo: \"testimonial\", label: \"Testimonial\", icon: \"üí¨\" },\n    { tipo: \"lista_iconos\", label: \"Lista Iconos\", icon: \"‚òëÔ∏è\" },\n    { tipo: \"tabla\", label: \"Tabla\", icon: \"üìä\" },\n    { tipo: \"accordion\", label: \"Acorde√≥n\", icon: \"üìã\" },\n    { tipo: \"tabs\", label: \"Tabs\", icon: \"üìë\" },\n    { tipo: \"faq\", label: \"FAQ\", icon: \"‚ùì\" },\n    { tipo: \"timeline\", label: \"Timeline\", icon: \"‚è±Ô∏è\" },\n    { tipo: \"cita\", label: \"Cita\", icon: \"üí≠\" },\n    { tipo: \"social\", label: \"Redes Sociales\", icon: \"üåê\" },\n    { tipo: \"contador\", label: \"Contador\", icon: \"üî¢\" },\n    { tipo: \"newsletter\", label: \"Newsletter\", icon: \"üìß\" },\n    { tipo: \"codigo\", label: \"C√≥digo\", icon: \"üíª\" },\n    { tipo: \"espaciador\", label: \"Espaciador\", icon: \"‚ÜïÔ∏è\" },\n    { tipo: \"grid\", label: \"Grid\", icon: \"‚ñ¶\" },\n    { tipo: \"flex\", label: \"Flex\", icon: \"‚ò∞\" },\n    { tipo: \"cta\", label: \"CTA\", icon: \"‚ö°\" },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header del Editor */}\n      <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n        <div className=\"flex flex-col md:flex-row md:items-center gap-4 mb-4\">\n          <input\n            type=\"text\"\n            value={publicacion.titulo}\n            onChange={(e) =>\n              onChange({ ...publicacion, titulo: e.target.value })\n            }\n            placeholder=\"T√≠tulo de la publicaci√≥n\"\n            className=\"flex-1 text-2xl font-bold border-b-2 border-gray-200 focus:border-blue-500 outline-none px-2 py-1\"\n          />\n          <div className=\"flex gap-2\">\n            <span\n              className={`px-3 py-1 rounded-full text-sm font-medium ${\n                publicacion.estado === \"publicado\"\n                  ? \"bg-green-100 text-green-700\"\n                  : \"bg-yellow-100 text-yellow-700\"\n              }`}\n            >\n              {publicacion.estado === \"publicado\" ? \"Publicado\" : \"Borrador\"}\n            </span>\n          </div>\n        </div>\n        <textarea\n          value={publicacion.meta?.descripcion || \"\"}\n          onChange={(e) =>\n            onChange({\n              ...publicacion,\n              meta: { ...publicacion.meta, descripcion: e.target.value },\n            })\n          }\n          placeholder=\"Descripci√≥n breve (SEO)\"\n          className=\"w-full text-gray-600 border border-gray-200 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 outline-none resize-none\"\n          rows={2}\n        />\n      </div>\n\n      {/* Toolbar de Bloques */}\n      <div className=\"bg-gray-50 p-4 rounded-xl border border-gray-200\">\n        <h3 className=\"text-sm font-semibold text-gray-700 mb-3\">\n          Agregar Bloque\n        </h3>\n        <div className=\"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-2\">\n          {tiposBloque.map(({ tipo, label, icon }) => (\n            <button\n              key={tipo}\n              onClick={() => agregarBloque(tipo)}\n              className=\"flex flex-col items-center p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-500 hover:shadow-md transition-all group\"\n              title={label}\n            >\n              <span className=\"text-xl mb-1 group-hover:scale-110 transition-transform\">\n                {icon}\n              </span>\n              <span className=\"text-xs text-gray-600 text-center leading-tight\">\n                {label}\n              </span>\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Lista de Bloques */}\n      <div className=\"space-y-4\">\n        {publicacion.bloques.map((bloque, index) => (\n          <div\n            key={bloque.id}\n            className={`bg-white rounded-xl border-2 transition-all ${\n              bloqueEditando === bloque.id\n                ? \"border-blue-500 shadow-lg\"\n                : \"border-gray-200 hover:border-gray-300\"\n            }`}\n          >\n            {/* Header del Bloque */}\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-100\">\n              <div className=\"flex items-center gap-3\">\n                <span className=\"text-gray-400 font-mono text-sm\">\n                  #{index + 1}\n                </span>\n                <span className=\"font-medium text-gray-700 capitalize\">\n                  {bloque.tipo.replace(/_/g, \" \")}\n                </span>\n              </div>\n              <div className=\"flex items-center gap-1\">\n                <button\n                  onClick={() => moverBloque(bloque.id, \"arriba\")}\n                  disabled={index === 0}\n                  className=\"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-30\"\n                  title=\"Mover arriba\"\n                >\n                  ‚Üë\n                </button>\n                <button\n                  onClick={() => moverBloque(bloque.id, \"abajo\")}\n                  disabled={index === publicacion.bloques.length - 1}\n                  className=\"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-30\"\n                  title=\"Mover abajo\"\n                >\n                  ‚Üì\n                </button>\n                <button\n                  onClick={() =>\n                    setBloqueEditando(\n                      bloqueEditando === bloque.id ? null : bloque.id\n                    )\n                  }\n                  className=\"p-2 hover:bg-blue-50 text-blue-600 rounded-lg\"\n                  title=\"Editar\"\n                >\n                  ‚úèÔ∏è\n                </button>\n                <button\n                  onClick={() => eliminarBloque(bloque.id)}\n                  className=\"p-2 hover:bg-red-50 text-red-600 rounded-lg\"\n                  title=\"Eliminar\"\n                >\n                  üóëÔ∏è\n                </button>\n              </div>\n            </div>\n\n            {/* Contenido del Bloque */}\n            <div className=\"p-4\">\n              <VistaPreviaBloque bloque={bloque} />\n            </div>\n\n            {/* Panel de Edici√≥n */}\n            {bloqueEditando === bloque.id && (\n              <div className=\"border-t border-gray-200 p-4 bg-gray-50\">\n                <PanelEdicionBloque\n                  bloque={bloque}\n                  onChange={(updates) => actualizarBloque(bloque.id, updates)}\n                />\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Bot√≥n Guardar */}\n      <div className=\"fixed bottom-6 left-6 z-30\">\n        <button\n          onClick={onGuardar}\n          className=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-full shadow-lg font-medium flex items-center gap-2 transition-all hover:scale-105\"\n        >\n          <span>üíæ</span> Guardar Cambios\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// ==========================================\n// COMPONENTE: VISTA PREVIA DE BLOQUE (Editor)\n// ==========================================\n\nconst VistaPreviaBloque: React.FC<{ bloque: Bloque }> = ({ bloque }) => {\n  const { tipo, contenido, estilos } = bloque;\n\n  const style: React.CSSProperties = {\n    color: estilos.color,\n    backgroundColor: estilos.background,\n    padding: estilos.padding,\n    margin: estilos.margin,\n    borderRadius: estilos.borderRadius,\n    boxShadow: estilos.shadow,\n    textAlign: estilos.textAlign,\n    fontSize: estilos.fontSize,\n    fontWeight: estilos.fontWeight,\n    width: estilos.width,\n    height: estilos.height,\n    objectFit: estilos.objectFit,\n    opacity: estilos.opacity ? parseFloat(estilos.opacity) : undefined,\n    display: estilos.display,\n    gridTemplateColumns: estilos.gridTemplateColumns,\n    gap: estilos.gap || estilos.gridGap,\n    flexDirection: estilos.flexDirection,\n    flexWrap: estilos.flexWrap,\n    justifyContent: estilos.justifyContent,\n    alignItems: estilos.alignItems,\n    border: estilos.border,\n    maxWidth: estilos.maxWidth,\n    lineHeight: estilos.lineHeight,\n    letterSpacing: estilos.letterSpacing,\n    textTransform: estilos.textTransform,\n  };\n\n  switch (tipo) {\n    case \"titulo\":\n      return (\n        <h1 style={style}>\n          {(contenido.texto as string) || \"T√≠tulo de ejemplo\"}\n        </h1>\n      );\n    case \"subtitulo\":\n      return (\n        <h2 style={style}>\n          {(contenido.texto as string) || \"Subt√≠tulo de ejemplo\"}\n        </h2>\n      );\n    case \"texto\":\n      return (\n        <p style={style}>\n          {(contenido.texto as string) ||\n            \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\"}\n        </p>\n      );\n    case \"imagen\":\n      return (\n        <img\n          src={(contenido.src as string) || \"https://via.placeholder.com/800x400\"}\n          alt={(contenido.alt as string) || \"Imagen\"}\n          style={style}\n          className=\"max-w-full h-auto\"\n        />\n      );\n    case \"gif\":\n      return (\n        <img\n          src={(contenido.src as string) || \"https://media.giphy.com/media/example.gif\"}\n          alt={(contenido.alt as string) || \"GIF\"}\n          style={style}\n          className=\"max-w-full h-auto\"\n        />\n      );\n    case \"video\":\n      return (\n        <div style={style} className=\"aspect-video bg-gray-900 rounded-lg flex items-center justify-center text-white\">\n          <span>üé• Video: {(contenido.src as string) || \"URL no configurada\"}</span>\n        </div>\n      );\n    case \"card_texto\":\n      return (\n        <div style={style}>\n          <h3 className=\"font-bold mb-2\">{(contenido.titulo as string) || \"Card\"}</h3>\n          <p>{(contenido.texto as string) || \"Contenido de la card...\"}</p>\n        </div>\n      );\n    case \"card_imagen\":\n      return (\n        <div style={style}>\n          <img\n            src={(contenido.src as string) || \"https://via.placeholder.com/400x300\"}\n            alt=\"\"\n            className=\"w-full h-48 object-cover\"\n          />\n        </div>\n      );\n    case \"card_mixta\":\n      return (\n        <div style={style}>\n          <img\n            src={(contenido.imagen as string) || \"https://via.placeholder.com/400x200\"}\n            alt=\"\"\n            className=\"w-full h-48 object-cover\"\n          />\n          <div className=\"p-4\">\n            <h3 className=\"font-bold mb-2\">{(contenido.titulo as string) || \"T√≠tulo\"}</h3>\n            <p className=\"text-gray-600\">{(contenido.texto as string) || \"Descripci√≥n...\"}</p>\n          </div>\n        </div>\n      );\n    case \"card_cta\":\n      return (\n        <div style={style}>\n          <h3 className=\"text-xl font-bold mb-2\">{(contenido.titulo as string) || \"¬°Accede ahora!\"}</h3>\n          <p className=\"mb-4\">{(contenido.texto as string) || \"Descripci√≥n de la oferta\"}</p>\n          <button className=\"bg-white text-blue-600 px-6 py-2 rounded-full font-medium\">\n            {(contenido.textoBoton as string) || \"Click aqu√≠\"}\n          </button>\n        </div>\n      );\n    case \"banner\":\n      return (\n        <div style={style}>\n          <h2 className=\"text-3xl font-bold mb-2\">{(contenido.titulo as string) || \"Banner Hero\"}</h2>\n          <p className=\"text-lg opacity-90\">{(contenido.subtitulo as string) || \"Subt√≠tulo del banner\"}</p>\n        </div>\n      );\n    case \"cita\":\n      return (\n        <blockquote style={style}>\n          {(contenido.texto as string) || \"Cita destacada de ejemplo...\"}\n        </blockquote>\n      );\n    case \"espaciador\":\n      return <div style={{ height: estilos.height || \"2rem\" }} />;\n    case \"grid\":\n      return (\n        <div style={style} className=\"min-h-[100px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400\">\n          Grid Container ({(bloque.configuracion.columns || 2)} columnas)\n        </div>\n      );\n    case \"flex\":\n      return (\n        <div style={style} className=\"min-h-[100px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400\">\n          Flex Container\n        </div>\n      );\n    default:\n      return (\n        <div style={style} className=\"p-4 bg-gray-100 rounded-lg text-gray-600\">\n          Vista previa no disponible para: {tipo}\n        </div>\n      );\n  }\n};\n\n// ==========================================\n// COMPONENTE: PANEL DE EDICI√ìN DE BLOQUE\n// ==========================================\n\nconst PanelEdicionBloque: React.FC<{\n  bloque: Bloque;\n  onChange: (updates: Partial<Bloque>) => void;\n}> = ({ bloque, onChange }) => {\n  const { tipo, contenido, estilos, configuracion } = bloque;\n\n  const actualizarContenido = (key: string, value: unknown) => {\n    onChange({\n      contenido: { ...contenido, [key]: value },\n    });\n  };\n\n  const actualizarEstilo = (key: keyof EstilosBloque, value: string) => {\n    onChange({\n      estilos: { ...estilos, [key]: value },\n    });\n  };\n\n  const actualizarConfig = (key: keyof ConfiguracionBloque, value: unknown) => {\n    onChange({\n      configuracion: { ...configuracion, [key]: value },\n    });\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Campos de Contenido seg√∫n tipo */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {tipo === \"titulo\" && (\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Texto del T√≠tulo\n            </label>\n            <input\n              type=\"text\"\n              value={(contenido.texto as string) || \"\"}\n              onChange={(e) => actualizarContenido(\"texto\", e.target.value)}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n            />\n          </div>\n        )}\n\n        {tipo === \"subtitulo\" && (\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Texto del Subt√≠tulo\n            </label>\n            <input\n              type=\"text\"\n              value={(contenido.texto as string) || \"\"}\n              onChange={(e) => actualizarContenido(\"texto\", e.target.value)}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n            />\n          </div>\n        )}\n\n        {tipo === \"texto\" && (\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Contenido\n            </label>\n            <textarea\n              value={(contenido.texto as string) || \"\"}\n              onChange={(e) => actualizarContenido(\"texto\", e.target.value)}\n              rows={4}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n            />\n          </div>\n        )}\n\n        {(tipo === \"imagen\" || tipo === \"gif\") && (\n          <>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                URL de la imagen/GIF\n              </label>\n              <input\n                type=\"text\"\n                value={(contenido.src as string) || \"\"}\n                onChange={(e) => actualizarContenido(\"src\", e.target.value)}\n                placeholder=\"https://ejemplo.com/imagen.jpg\"\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Texto alternativo (ALT)\n              </label>\n              <input\n                type=\"text\"\n                value={(contenido.alt as string) || \"\"}\n                onChange={(e) => actualizarContenido(\"alt\", e.target.value)}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n          </>\n        )}\n\n        {tipo === \"video\" && (\n          <>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                URL del Video (YouTube o directo)\n              </label>\n              <input\n                type=\"text\"\n                value={(contenido.src as string) || \"\"}\n                onChange={(e) => actualizarContenido(\"src\", e.target.value)}\n                placeholder=\"https://youtube.com/watch?v=...\"\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n            <div className=\"flex gap-4\">\n              <label className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={configuracion.autoplay || false}\n                  onChange={(e) => actualizarConfig(\"autoplay\", e.target.checked)}\n                  className=\"rounded\"\n                />\n                <span className=\"text-sm\">Autoplay</span>\n              </label>\n              <label className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={configuracion.loop || false}\n                  onChange={(e) => actualizarConfig(\"loop\", e.target.checked)}\n                  className=\"rounded\"\n                />\n                <span className=\"text-sm\">Loop</span>\n              </label>\n              <label className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={configuracion.muted || false}\n                  onChange={(e) => actualizarConfig(\"muted\", e.target.checked)}\n                  className=\"rounded\"\n                />\n                <span className=\"text-sm\">Muted</span>\n              </label>\n            </div>\n          </>\n        )}\n\n        {(tipo === \"card_texto\" || tipo === \"card_cta\") && (\n          <>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                T√≠tulo\n              </label>\n              <input\n                type=\"text\"\n                value={(contenido.titulo as string) || \"\"}\n                onChange={(e) => actualizarContenido(\"titulo\", e.target.value)}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Texto\n              </label>\n              <textarea\n                value={(contenido.texto as string) || \"\"}\n                onChange={(e) => actualizarContenido(\"texto\", e.target.value)}\n                rows={3}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n            {tipo === \"card_cta\" && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Texto del Bot√≥n\n                </label>\n                <input\n                  type=\"text\"\n                  value={(contenido.textoBoton as string) || \"\"}\n                  onChange={(e) => actualizarContenido(\"textoBoton\", e.target.value)}\n                  className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n                />\n              </div>\n            )}\n          </>\n        )}\n\n        {tipo === \"card_imagen\" && (\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              URL de la Imagen\n            </label>\n            <input\n              type=\"text\"\n              value={(contenido.src as string) || \"\"}\n              onChange={(e) => actualizarContenido(\"src\", e.target.value)}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n            />\n          </div>\n        )}\n\n        {tipo === \"card_mixta\" && (\n          <>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                URL de la Imagen\n              </label>\n              <input\n                type=\"text\"\n                value={(contenido.imagen as string) || \"\"}\n                onChange={(e) => actualizarContenido(\"imagen\", e.target.value)}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                T√≠tulo\n              </label>\n              <input\n                type=\"text\"\n                value={(contenido.titulo as string) || \"\"}\n                onChange={(e) => actualizarContenido(\"titulo\", e.target.value)}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Texto\n              </label>\n              <textarea\n                value={(contenido.texto as string) || \"\"}\n                onChange={(e) => actualizarContenido(\"texto\", e.target.value)}\n                rows={3}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n          </>\n        )}\n\n        {tipo === \"banner\" && (\n          <>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                T√≠tulo del Banner\n              </label>\n              <input\n                type=\"text\"\n                value={(contenido.titulo as string) || \"\"}\n                onChange={(e) => actualizarContenido(\"titulo\", e.target.value)}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Subt√≠tulo\n              </label>\n              <input\n                type=\"text\"\n                value={(contenido.subtitulo as string) || \"\"}\n                onChange={(e) => actualizarContenido(\"subtitulo\", e.target.value)}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            </div>\n          </>\n        )}\n\n        {tipo === \"cita\" && (\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Texto de la Cita\n            </label>\n            <textarea\n              value={(contenido.texto as string) || \"\"}\n              onChange={(e) => actualizarContenido(\"texto\", e.target.value)}\n              rows={3}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n            />\n          </div>\n        )}\n\n        {tipo === \"espaciador\" && (\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Altura (ej: 2rem, 50px)\n            </label>\n            <input\n              type=\"text\"\n              value={estilos.height || \"2rem\"}\n              onChange={(e) => actualizarEstilo(\"height\", e.target.value)}\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n            />\n          </div>\n        )}\n\n        {(tipo === \"grid\" || tipo === \"flex\") && (\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              {tipo === \"grid\" ? \"Columnas\" : \"Direcci√≥n\"}\n            </label>\n            {tipo === \"grid\" ? (\n              <input\n                type=\"number\"\n                min={1}\n                max={12}\n                value={configuracion.columns || 2}\n                onChange={(e) => actualizarConfig(\"columns\", parseInt(e.target.value))}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              />\n            ) : (\n              <select\n                value={estilos.flexDirection || \"column\"}\n                onChange={(e) => actualizarEstilo(\"flexDirection\", e.target.value)}\n                className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n              >\n                <option value=\"row\">Fila</option>\n                <option value=\"column\">Columna</option>\n                <option value=\"row-reverse\">Fila inversa</option>\n                <option value=\"column-reverse\">Columna inversa</option>\n              </select>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Estilos Generales */}\n      <div className=\"border-t border-gray-200 pt-4\">\n        <h4 className=\"font-medium text-gray-700 mb-3\">Estilos</h4>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n          <div>\n            <label className=\"block text-xs text-gray-600 mb-1\">Color texto</label>\n            <input\n              type=\"color\"\n              value={estilos.color || \"#000000\"}\n              onChange={(e) => actualizarEstilo(\"color\", e.target.value)}\n              className=\"w-full h-10 rounded cursor-pointer\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs text-gray-600 mb-1\">Fondo</label>\n            <input\n              type=\"color\"\n              value={estilos.background || \"#ffffff\"}\n              onChange={(e) => actualizarEstilo(\"background\", e.target.value)}\n              className=\"w-full h-10 rounded cursor-pointer\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs text-gray-600 mb-1\">Padding</label>\n            <input\n              type=\"text\"\n              value={estilos.padding || \"\"}\n              onChange={(e) => actualizarEstilo(\"padding\", e.target.value)}\n              placeholder=\"1rem\"\n              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs text-gray-600 mb-1\">Margin</label>\n            <input\n              type=\"text\"\n              value={estilos.margin || \"\"}\n              onChange={(e) => actualizarEstilo(\"margin\", e.target.value)}\n              placeholder=\"0\"\n              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs text-gray-600 mb-1\">Border Radius</label>\n            <input\n              type=\"text\"\n              value={estilos.borderRadius || \"\"}\n              onChange={(e) => actualizarEstilo(\"borderRadius\", e.target.value)}\n              placeholder=\"8px\"\n              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs text-gray-600 mb-1\">Sombra</label>\n            <select\n              value={estilos.shadow || \"\"}\n              onChange={(e) => actualizarEstilo(\"shadow\", e.target.value)}\n              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n            >\n              <option value=\"\">Ninguna</option>\n              <option value=\"0 2px 4px rgba(0,0,0,0.1)\">Suave</option>\n              <option value=\"0 4px 6px rgba(0,0,0,0.1)\">Media</option>\n              <option value=\"0 10px 15px rgba(0,0,0,0.2)\">Fuerte</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-xs text-gray-600 mb-1\">Alineaci√≥n</label>\n            <select\n              value={estilos.textAlign || \"left\"}\n              onChange={(e) => actualizarEstilo(\"textAlign\", e.target.value)}\n              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n            >\n              <option value=\"left\">Izquierda</option>\n              <option value=\"center\">Centro</option>\n              <option value=\"right\">Derecha</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-xs text-gray-600 mb-1\">Tama√±o fuente</label>\n            <input\n              type=\"text\"\n              value={estilos.fontSize || \"\"}\n              onChange={(e) => actualizarEstilo(\"fontSize\", e.target.value)}\n              placeholder=\"1rem\"\n              className=\"w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// ==========================================\n// COMPONENTE: VISTA PREVIA (Preview Mode)\n// ==========================================\n\nexport const VistaPrevia: React.FC<VistaPreviaProps> = ({\n  publicacion,\n  modo,\n}) => {\n  if (!publicacion) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        Selecciona una publicaci√≥n para ver la vista previa\n      </div>\n    );\n  }\n\n  const containerClasses = {\n    desktop: \"w-full max-w-6xl mx-auto\",\n    tablet: \"w-full max-w-2xl mx-auto\",\n    mobile: \"w-full max-w-sm mx-auto\",\n  };\n\n  const frameClasses = {\n    desktop: \"border-0\",\n    tablet: \"border-8 border-gray-800 rounded-[2rem]\",\n    mobile: \"border-8 border-gray-800 rounded-[3rem]\",\n  };\n\n  return (\n    <div className=\"bg-gray-100 p-4 min-h-screen\">\n      <div className=\"mb-4 flex justify-center gap-2\">\n        {([\"desktop\", \"tablet\", \"mobile\"] as const).map((m) => (\n          <button\n            key={m}\n            className={`px-4 py-2 rounded-lg font-medium capitalize ${\n              modo === m\n                ? \"bg-blue-600 text-white\"\n                : \"bg-white text-gray-700 hover:bg-gray-50\"\n            }`}\n          >\n            {m === \"desktop\" ? \"üñ•Ô∏è\" : m === \"tablet\" ? \"üì±\" : \"üì≤\"} {m}\n          </button>\n        ))}\n      </div>\n\n      <div className={`${containerClasses[modo]} transition-all duration-300`}>\n        <div className={`bg-white shadow-2xl overflow-hidden ${frameClasses[modo]}`}>\n          {modo !== \"desktop\" && (\n            <div className=\"bg-gray-800 h-6 flex items-center justify-center\">\n              <div className=\"w-16 h-4 bg-gray-700 rounded-full\" />\n            </div>\n          )}\n          <div className=\"p-6 min-h-[500px]\">\n            <h1 className=\"text-2xl font-bold mb-4\">{publicacion.titulo}</h1>\n            {publicacion.meta?.descripcion && (\n              <p className=\"text-gray-600 mb-6\">{publicacion.meta.descripcion}</p>\n            )}\n            <div className=\"space-y-4\">\n              {publicacion.bloques.map((bloque) => (\n                <VistaPreviaBloque key={bloque.id} bloque={bloque} />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// ==========================================\n// COMPONENTE: LISTA DE PUBLICACIONES\n// ==========================================\n\nexport const ListaPublicaciones: React.FC<{\n  publicaciones: Publicacion[];\n  onSeleccionar: (id: string) => void;\n  onEliminar: (id: string) => void;\n  onDuplicar: (id: string) => void;\n  onCambiarEstado: (id: string, estado: \"borrador\" | \"publicado\") => void;\n}> = ({ publicaciones, onSeleccionar, onEliminar, onDuplicar, onCambiarEstado }) => {\n  return (\n    <div className=\"space-y-4\">\n      <h2 className=\"text-2xl font-bold text-gray-800\">Todas las Publicaciones</h2>\n      <div className=\"grid gap-4\">\n        {publicaciones.map((pub) => (\n          <div\n            key={pub.id}\n            className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow\"\n          >\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n              <div className=\"flex-1\">\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-1\">\n                  {pub.titulo || \"Sin t√≠tulo\"}\n                </h3>\n                <div className=\"flex flex-wrap gap-2 text-sm text-gray-500\">\n                  <span>üìÖ {new Date(pub.fechaModificacion).toLocaleDateString()}</span>\n                  <span>üìù {pub.bloques.length} bloques</span>\n                  <span\n                    className={`px-2 py-0.5 rounded-full text-xs ${\n                      pub.estado === \"publicado\"\n                        ? \"bg-green-100 text-green-700\"\n                        : \"bg-yellow-100 text-yellow-700\"\n                    }`}\n                  >\n                    {pub.estado === \"publicado\" ? \"Publicado\" : \"Borrador\"}\n                  </span>\n                </div>\n              </div>\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => onSeleccionar(pub.id)}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  Editar\n                </button>\n                <button\n                  onClick={() => onCambiarEstado(pub.id, pub.estado === \"publicado\" ? \"borrador\" : \"publicado\")}\n                  className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\"\n                >\n                  {pub.estado === \"publicado\" ? \"Despublicar\" : \"Publicar\"}\n                </button>\n                <button\n                  onClick={() => onDuplicar(pub.id)}\n                  className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\"\n                >\n                  Duplicar\n                </button>\n                <button\n                  onClick={() => onEliminar(pub.id)}\n                  className=\"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors\"\n                >\n                  Eliminar\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n        {publicaciones.length === 0 && (\n          <div className=\"text-center py-12 text-gray-500\">\n            No hay publicaciones. Crea una nueva para comenzar.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// ==========================================\n// FUNCIONES AUXILIARES\n// ==========================================\n\nfunction obtenerContenidoPorDefecto(tipo: TipoBloque): Record<string, unknown> {\n  const defaults: Record<TipoBloque, Record<string, unknown>> = {\n    titulo: { texto: \"Nuevo T√≠tulo\" },\n    subtitulo: { texto: \"Nuevo Subt√≠tulo\" },\n    texto: { texto: \"Escribe tu contenido aqu√≠...\" },\n    imagen: { src: \"\", alt: \"\" },\n    galeria: { imagenes: [] },\n    gif: { src: \"\", alt: \"\" },\n    video: { src: \"\" },\n    card: { titulo: \"\", texto: \"\" },\n    banner: { titulo: \"\", subtitulo: \"\" },\n    grid: {},\n    flex: {},\n    accordion: { items: [] },\n    tabs: { tabs: [] },\n    faq: { preguntas: [] },\n    timeline: { eventos: [] },\n    cta: { titulo: \"\", texto: \"\", boton: \"\" },\n    custom: { html: \"\" },\n    separador: {},\n    carrusel: { slides: [] },\n    testimonial: { testimonios: [] },\n    lista_iconos: { iconos: [] },\n    tabla: { filas: [] },\n    cita: { texto: \"\", autor: \"\" },\n    social: { redes: [] },\n    contador: { valor: 0, sufijo: \"\" },\n    newsletter: { titulo: \"\", descripcion: \"\" },\n    codigo: { codigo: \"\", lenguaje: \"\" },\n    espaciador: {},\n    card_texto: { titulo: \"\", texto: \"\" },\n    card_imagen: { src: \"\", alt: \"\" },\n    card_mixta: { titulo: \"\", texto: \"\", imagen: \"\" },\n    card_cta: { titulo: \"\", texto: \"\", textoBoton: \"Click aqu√≠\" },\n    card_links: { titulo: \"\", links: [] },\n    slider: { slides: [] },\n  };\n  return defaults[tipo] || {};\n}\n\nfunction obtenerConfigPorDefecto(tipo: TipoBloque): ConfiguracionBloque {\n  const configs: Record<TipoBloque, ConfiguracionBloque> = {\n    titulo: {},\n    subtitulo: {},\n    texto: {},\n    imagen: { lazyLoading: true },\n    galeria: { columns: 3 },\n    gif: { lazyLoading: true },\n    video: { autoplay: false, loop: false, muted: true, controls: true },\n    card: {},\n    banner: { fullWidth: true },\n    grid: { columns: 2 },\n    flex: {},\n    accordion: {},\n    tabs: {},\n    faq: {},\n    timeline: {},\n    cta: {},\n    custom: {},\n    separador: {},\n    carrusel: { autoplay: true },\n    testimonial: {},\n    lista_iconos: {},\n    tabla: {},\n    cita: {},\n    social: {},\n    contador: { duracion: 2000 },\n    newsletter: {},\n    codigo: {},\n    espaciador: {},\n    card_texto: {},\n    card_imagen: {},\n    card_mixta: {},\n    card_cta: { tipoBoton: \"primario\" },\n    card_links: {},\n    slider: { autoplay: true },\n  };\n  return configs[tipo] || {};\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;;;;;;;;AAHA,mCAAmC;AACnC;;;AA4CO,MAAM,WAAoC,CAAC,EAChD,WAAW,EACX,cAAc,EACd,aAAa,EACb,iBAAiB,EACjB,wBAAwB,EACxB,kBAAkB,EAClB,qBAAqB,EACrB,qBAAqB,EACrB,eAAe,EAChB;;IACC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,SAAS;QACb;YAAE,IAAI;YAAU,OAAO;YAAU,MAAM;QAAK;QAC5C;YAAE,IAAI;YAAS,OAAO;YAAiB,MAAM;QAAK;QAClD;YAAE,IAAI;YAAW,OAAO;YAAgB,MAAM;QAAM;KACrD;IAED,qBACE;;0BAEE,6LAAC;gBACC,SAAS,IAAM,eAAe,CAAC;gBAC/B,WAAU;gBACV,cAAW;0BAEV,cAAc,MAAM;;;;;;0BAIvB,6LAAC;gBACC,WAAW,CAAC,qGAAqG,EAC/G,cAAc,kBAAkB,qCAChC;0BAEF,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAuC;;;;;;sCAGrD,6LAAC;4BAAI,WAAU;sCACZ,OAAO,GAAG,CAAC,CAAC,sBACX,6LAAC;oCAEC,SAAS;wCACP,eAAe,MAAM,EAAE;wCACvB,eAAe;oCACjB;oCACA,WAAW,CAAC,gFAAgF,EAC1F,gBAAgB,MAAM,EAAE,GACpB,0CACA,mCACJ;;sDAEF,6LAAC;sDAAM,MAAM,IAAI;;;;;;wCAChB,MAAM,KAAK;;mCAZP,MAAM,EAAE;;;;;;;;;;sCAkBnB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAoE;;;;;;8CAGlF,6LAAC;oCACC,SAAS;oCACT,WAAU;;sDAEV,6LAAC;sDAAK;;;;;;wCAAQ;;;;;;;;;;;;;sCAKlB,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAoE;;;;;;8CAGlF,6LAAC;oCAAI,WAAU;8CACZ,cAAc,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,oBAC9B,6LAAC;4CAEC,SAAS,IAAM,yBAAyB,IAAI,EAAE;4CAC9C,WAAW,CAAC,gDAAgD,EAC1D,sBAAsB,IAAI,EAAE,GACxB,wCACA,4DACJ;;8DAEF,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAK,WAAU;sEACb,IAAI,MAAM,IAAI;;;;;;sEAEjB,6LAAC;4DACC,WAAW,CAAC,+BAA+B,EACzC,IAAI,MAAM,KAAK,cACX,gCACA,iCACJ;sEAED,IAAI,MAAM,KAAK,cAAc,QAAQ;;;;;;;;;;;;8DAG1C,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DACC,SAAS,CAAC;gEACR,EAAE,eAAe;gEACjB,sBAAsB,IAAI,EAAE;4DAC9B;4DACA,WAAU;4DACV,OAAM;sEACP;;;;;;sEAGD,6LAAC;4DACC,SAAS,CAAC;gEACR,EAAE,eAAe;gEACjB,gBACE,IAAI,EAAE,EACN,IAAI,MAAM,KAAK,cAAc,aAAa;4DAE9C;4DACA,WAAU;4DACV,OAAM;sEACP;;;;;;sEAGD,6LAAC;4DACC,SAAS,CAAC;gEACR,EAAE,eAAe;gEACjB,sBAAsB,IAAI,EAAE;4DAC9B;4DACA,WAAU;4DACV,OAAM;sEACP;;;;;;;;;;;;;2CArDE,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;YAiEtB,6BACC,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,eAAe;;;;;;;;AAKxC;GA1Ja;KAAA;AAgKN,MAAM,gBAAuC,CAAC,EACnD,WAAW,EACX,QAAQ,EACR,SAAS,EACV;;IACC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAgB;IAEpE,MAAM,gBAAgB,CAAC;QACrB,MAAM,cAAsB;YAC1B,IAAI;YACJ;YACA,WAAW,2BAA2B;YACtC,SAAS;gBAAE,GAAG,iBAAiB,CAAC,KAAK;YAAC;YACtC,eAAe,wBAAwB;QACzC;QAEA,MAAM,mBAAmB;YACvB,GAAG,WAAW;YACd,SAAS;mBAAI,YAAY,OAAO;gBAAE;aAAY;YAC9C,mBAAmB,IAAI,OAAO,WAAW;QAC3C;QAEA,SAAS;IACX;IAEA,MAAM,mBAAmB,CAAC,IAAY;QACpC,MAAM,gBAAgB,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC,IAC7C,EAAE,EAAE,KAAK,KAAK;gBAAE,GAAG,CAAC;gBAAE,GAAG,OAAO;YAAC,IAAI;QAGvC,SAAS;YACP,GAAG,WAAW;YACd,SAAS;YACT,mBAAmB,IAAI,OAAO,WAAW;QAC3C;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,SAAS;YACP,GAAG,WAAW;YACd,SAAS,YAAY,OAAO,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;YACpD,mBAAmB,IAAI,OAAO,WAAW;QAC3C;IACF;IAEA,MAAM,cAAc,CAAC,IAAY;QAC/B,MAAM,QAAQ,YAAY,OAAO,CAAC,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAC5D,IACE,AAAC,cAAc,YAAY,UAAU,KACpC,cAAc,WAAW,UAAU,YAAY,OAAO,CAAC,MAAM,GAAG,GACjE;YACA;QACF;QAEA,MAAM,gBAAgB;eAAI,YAAY,OAAO;SAAC;QAC9C,MAAM,WAAW,cAAc,WAAW,QAAQ,IAAI,QAAQ;QAC9D,CAAC,aAAa,CAAC,MAAM,EAAE,aAAa,CAAC,SAAS,CAAC,GAAG;YAChD,aAAa,CAAC,SAAS;YACvB,aAAa,CAAC,MAAM;SACrB;QAED,SAAS;YACP,GAAG,WAAW;YACd,SAAS;YACT,mBAAmB,IAAI,OAAO,WAAW;QAC3C;IACF;IAEA,MAAM,cAAwE;QAC5E;YAAE,MAAM;YAAU,OAAO;YAAU,MAAM;QAAI;QAC7C;YAAE,MAAM;YAAa,OAAO;YAAa,MAAM;QAAK;QACpD;YAAE,MAAM;YAAS,OAAO;YAAS,MAAM;QAAI;QAC3C;YAAE,MAAM;YAAU,OAAO;YAAU,MAAM;QAAM;QAC/C;YAAE,MAAM;YAAW,OAAO;YAAW,MAAM;QAAS;QACpD;YAAE,MAAM;YAAO,OAAO;YAAO,MAAM;QAAM;QACzC;YAAE,MAAM;YAAS,OAAO;YAAS,MAAM;QAAK;QAC5C;YAAE,MAAM;YAAc,OAAO;YAAc,MAAM;QAAK;QACtD;YAAE,MAAM;YAAe,OAAO;YAAe,MAAM;QAAM;QACzD;YAAE,MAAM;YAAc,OAAO;YAAc,MAAM;QAAK;QACtD;YAAE,MAAM;YAAY,OAAO;YAAY,MAAM;QAAK;QAClD;YAAE,MAAM;YAAc,OAAO;YAAc,MAAM;QAAK;QACtD;YAAE,MAAM;YAAU,OAAO;YAAe,MAAM;QAAK;QACnD;YAAE,MAAM;YAAY,OAAO;YAAY,MAAM;QAAK;QAClD;YAAE,MAAM;YAAU,OAAO;YAAU,MAAM;QAAK;QAC9C;YAAE,MAAM;YAAe,OAAO;YAAe,MAAM;QAAK;QACxD;YAAE,MAAM;YAAgB,OAAO;YAAgB,MAAM;QAAK;QAC1D;YAAE,MAAM;YAAS,OAAO;YAAS,MAAM;QAAK;QAC5C;YAAE,MAAM;YAAa,OAAO;YAAY,MAAM;QAAK;QACnD;YAAE,MAAM;YAAQ,OAAO;YAAQ,MAAM;QAAK;QAC1C;YAAE,MAAM;YAAO,OAAO;YAAO,MAAM;QAAI;QACvC;YAAE,MAAM;YAAY,OAAO;YAAY,MAAM;QAAK;QAClD;YAAE,MAAM;YAAQ,OAAO;YAAQ,MAAM;QAAK;QAC1C;YAAE,MAAM;YAAU,OAAO;YAAkB,MAAM;QAAK;QACtD;YAAE,MAAM;YAAY,OAAO;YAAY,MAAM;QAAK;QAClD;YAAE,MAAM;YAAc,OAAO;YAAc,MAAM;QAAK;QACtD;YAAE,MAAM;YAAU,OAAO;YAAU,MAAM;QAAK;QAC9C;YAAE,MAAM;YAAc,OAAO;YAAc,MAAM;QAAK;QACtD;YAAE,MAAM;YAAQ,OAAO;YAAQ,MAAM;QAAI;QACzC;YAAE,MAAM;YAAQ,OAAO;YAAQ,MAAM;QAAI;QACzC;YAAE,MAAM;YAAO,OAAO;YAAO,MAAM;QAAI;KACxC;IAED,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,MAAK;gCACL,OAAO,YAAY,MAAM;gCACzB,UAAU,CAAC,IACT,SAAS;wCAAE,GAAG,WAAW;wCAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;oCAAC;gCAEpD,aAAY;gCACZ,WAAU;;;;;;0CAEZ,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCACC,WAAW,CAAC,2CAA2C,EACrD,YAAY,MAAM,KAAK,cACnB,gCACA,iCACJ;8CAED,YAAY,MAAM,KAAK,cAAc,cAAc;;;;;;;;;;;;;;;;;kCAI1D,6LAAC;wBACC,OAAO,YAAY,IAAI,EAAE,eAAe;wBACxC,UAAU,CAAC,IACT,SAAS;gCACP,GAAG,WAAW;gCACd,MAAM;oCAAE,GAAG,YAAY,IAAI;oCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gCAAC;4BAC3D;wBAEF,aAAY;wBACZ,WAAU;wBACV,MAAM;;;;;;;;;;;;0BAKV,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA2C;;;;;;kCAGzD,6LAAC;wBAAI,WAAU;kCACZ,YAAY,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,iBACrC,6LAAC;gCAEC,SAAS,IAAM,cAAc;gCAC7B,WAAU;gCACV,OAAO;;kDAEP,6LAAC;wCAAK,WAAU;kDACb;;;;;;kDAEH,6LAAC;wCAAK,WAAU;kDACb;;;;;;;+BATE;;;;;;;;;;;;;;;;0BAiBb,6LAAC;gBAAI,WAAU;0BACZ,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,sBAChC,6LAAC;wBAEC,WAAW,CAAC,4CAA4C,EACtD,mBAAmB,OAAO,EAAE,GACxB,8BACA,yCACJ;;0CAGF,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;;oDAAkC;oDAC9C,QAAQ;;;;;;;0DAEZ,6LAAC;gDAAK,WAAU;0DACb,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM;;;;;;;;;;;;kDAG/B,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDACC,SAAS,IAAM,YAAY,OAAO,EAAE,EAAE;gDACtC,UAAU,UAAU;gDACpB,WAAU;gDACV,OAAM;0DACP;;;;;;0DAGD,6LAAC;gDACC,SAAS,IAAM,YAAY,OAAO,EAAE,EAAE;gDACtC,UAAU,UAAU,YAAY,OAAO,CAAC,MAAM,GAAG;gDACjD,WAAU;gDACV,OAAM;0DACP;;;;;;0DAGD,6LAAC;gDACC,SAAS,IACP,kBACE,mBAAmB,OAAO,EAAE,GAAG,OAAO,OAAO,EAAE;gDAGnD,WAAU;gDACV,OAAM;0DACP;;;;;;0DAGD,6LAAC;gDACC,SAAS,IAAM,eAAe,OAAO,EAAE;gDACvC,WAAU;gDACV,OAAM;0DACP;;;;;;;;;;;;;;;;;;0CAOL,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAkB,QAAQ;;;;;;;;;;;4BAI5B,mBAAmB,OAAO,EAAE,kBAC3B,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCACC,QAAQ;oCACR,UAAU,CAAC,UAAY,iBAAiB,OAAO,EAAE,EAAE;;;;;;;;;;;;uBAjEpD,OAAO,EAAE;;;;;;;;;;0BA0EpB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,SAAS;oBACT,WAAU;;sCAEV,6LAAC;sCAAK;;;;;;wBAAS;;;;;;;;;;;;;;;;;;AAKzB;IA9Pa;MAAA;AAgQb,6CAA6C;AAC7C,8CAA8C;AAC9C,6CAA6C;AAE7C,MAAM,oBAAkD,CAAC,EAAE,MAAM,EAAE;IACjE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG;IAErC,MAAM,QAA6B;QACjC,OAAO,QAAQ,KAAK;QACpB,iBAAiB,QAAQ,UAAU;QACnC,SAAS,QAAQ,OAAO;QACxB,QAAQ,QAAQ,MAAM;QACtB,cAAc,QAAQ,YAAY;QAClC,WAAW,QAAQ,MAAM;QACzB,WAAW,QAAQ,SAAS;QAC5B,UAAU,QAAQ,QAAQ;QAC1B,YAAY,QAAQ,UAAU;QAC9B,OAAO,QAAQ,KAAK;QACpB,QAAQ,QAAQ,MAAM;QACtB,WAAW,QAAQ,SAAS;QAC5B,SAAS,QAAQ,OAAO,GAAG,WAAW,QAAQ,OAAO,IAAI;QACzD,SAAS,QAAQ,OAAO;QACxB,qBAAqB,QAAQ,mBAAmB;QAChD,KAAK,QAAQ,GAAG,IAAI,QAAQ,OAAO;QACnC,eAAe,QAAQ,aAAa;QACpC,UAAU,QAAQ,QAAQ;QAC1B,gBAAgB,QAAQ,cAAc;QACtC,YAAY,QAAQ,UAAU;QAC9B,QAAQ,QAAQ,MAAM;QACtB,UAAU,QAAQ,QAAQ;QAC1B,YAAY,QAAQ,UAAU;QAC9B,eAAe,QAAQ,aAAa;QACpC,eAAe,QAAQ,aAAa;IACtC;IAEA,OAAQ;QACN,KAAK;YACH,qBACE,6LAAC;gBAAG,OAAO;0BACR,AAAC,UAAU,KAAK,IAAe;;;;;;QAGtC,KAAK;YACH,qBACE,6LAAC;gBAAG,OAAO;0BACR,AAAC,UAAU,KAAK,IAAe;;;;;;QAGtC,KAAK;YACH,qBACE,6LAAC;gBAAE,OAAO;0BACP,AAAC,UAAU,KAAK,IACf;;;;;;QAGR,KAAK;YACH,qBACE,6LAAC;gBACC,KAAK,AAAC,UAAU,GAAG,IAAe;gBAClC,KAAK,AAAC,UAAU,GAAG,IAAe;gBAClC,OAAO;gBACP,WAAU;;;;;;QAGhB,KAAK;YACH,qBACE,6LAAC;gBACC,KAAK,AAAC,UAAU,GAAG,IAAe;gBAClC,KAAK,AAAC,UAAU,GAAG,IAAe;gBAClC,OAAO;gBACP,WAAU;;;;;;QAGhB,KAAK;YACH,qBACE,6LAAC;gBAAI,OAAO;gBAAO,WAAU;0BAC3B,cAAA,6LAAC;;wBAAK;wBAAY,UAAU,GAAG,IAAe;;;;;;;;;;;;QAGpD,KAAK;YACH,qBACE,6LAAC;gBAAI,OAAO;;kCACV,6LAAC;wBAAG,WAAU;kCAAkB,AAAC,UAAU,MAAM,IAAe;;;;;;kCAChE,6LAAC;kCAAG,AAAC,UAAU,KAAK,IAAe;;;;;;;;;;;;QAGzC,KAAK;YACH,qBACE,6LAAC;gBAAI,OAAO;0BACV,cAAA,6LAAC;oBACC,KAAK,AAAC,UAAU,GAAG,IAAe;oBAClC,KAAI;oBACJ,WAAU;;;;;;;;;;;QAIlB,KAAK;YACH,qBACE,6LAAC;gBAAI,OAAO;;kCACV,6LAAC;wBACC,KAAK,AAAC,UAAU,MAAM,IAAe;wBACrC,KAAI;wBACJ,WAAU;;;;;;kCAEZ,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAkB,AAAC,UAAU,MAAM,IAAe;;;;;;0CAChE,6LAAC;gCAAE,WAAU;0CAAiB,AAAC,UAAU,KAAK,IAAe;;;;;;;;;;;;;;;;;;QAIrE,KAAK;YACH,qBACE,6LAAC;gBAAI,OAAO;;kCACV,6LAAC;wBAAG,WAAU;kCAA0B,AAAC,UAAU,MAAM,IAAe;;;;;;kCACxE,6LAAC;wBAAE,WAAU;kCAAQ,AAAC,UAAU,KAAK,IAAe;;;;;;kCACpD,6LAAC;wBAAO,WAAU;kCACf,AAAC,UAAU,UAAU,IAAe;;;;;;;;;;;;QAI7C,KAAK;YACH,qBACE,6LAAC;gBAAI,OAAO;;kCACV,6LAAC;wBAAG,WAAU;kCAA2B,AAAC,UAAU,MAAM,IAAe;;;;;;kCACzE,6LAAC;wBAAE,WAAU;kCAAsB,AAAC,UAAU,SAAS,IAAe;;;;;;;;;;;;QAG5E,KAAK;YACH,qBACE,6LAAC;gBAAW,OAAO;0BAChB,AAAC,UAAU,KAAK,IAAe;;;;;;QAGtC,KAAK;YACH,qBAAO,6LAAC;gBAAI,OAAO;oBAAE,QAAQ,QAAQ,MAAM,IAAI;gBAAO;;;;;;QACxD,KAAK;YACH,qBACE,6LAAC;gBAAI,OAAO;gBAAO,WAAU;;oBAAiH;oBAC1H,OAAO,aAAa,CAAC,OAAO,IAAI;oBAAG;;;;;;;QAG3D,KAAK;YACH,qBACE,6LAAC;gBAAI,OAAO;gBAAO,WAAU;0BAAiH;;;;;;QAIlJ;YACE,qBACE,6LAAC;gBAAI,OAAO;gBAAO,WAAU;;oBAA2C;oBACpC;;;;;;;IAG1C;AACF;MAtJM;AAwJN,6CAA6C;AAC7C,yCAAyC;AACzC,6CAA6C;AAE7C,MAAM,qBAGD,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE;IACxB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,aAAa,EAAE,GAAG;IAEpD,MAAM,sBAAsB,CAAC,KAAa;QACxC,SAAS;YACP,WAAW;gBAAE,GAAG,SAAS;gBAAE,CAAC,IAAI,EAAE;YAAM;QAC1C;IACF;IAEA,MAAM,mBAAmB,CAAC,KAA0B;QAClD,SAAS;YACP,SAAS;gBAAE,GAAG,OAAO;gBAAE,CAAC,IAAI,EAAE;YAAM;QACtC;IACF;IAEA,MAAM,mBAAmB,CAAC,KAAgC;QACxD,SAAS;YACP,eAAe;gBAAE,GAAG,aAAa;gBAAE,CAAC,IAAI,EAAE;YAAM;QAClD;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;oBACZ,SAAS,0BACR,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,6LAAC;gCACC,MAAK;gCACL,OAAO,AAAC,UAAU,KAAK,IAAe;gCACtC,UAAU,CAAC,IAAM,oBAAoB,SAAS,EAAE,MAAM,CAAC,KAAK;gCAC5D,WAAU;;;;;;;;;;;;oBAKf,SAAS,6BACR,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,6LAAC;gCACC,MAAK;gCACL,OAAO,AAAC,UAAU,KAAK,IAAe;gCACtC,UAAU,CAAC,IAAM,oBAAoB,SAAS,EAAE,MAAM,CAAC,KAAK;gCAC5D,WAAU;;;;;;;;;;;;oBAKf,SAAS,yBACR,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,6LAAC;gCACC,OAAO,AAAC,UAAU,KAAK,IAAe;gCACtC,UAAU,CAAC,IAAM,oBAAoB,SAAS,EAAE,MAAM,CAAC,KAAK;gCAC5D,MAAM;gCACN,WAAU;;;;;;;;;;;;oBAKf,CAAC,SAAS,YAAY,SAAS,KAAK,mBACnC;;0CACE,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,MAAK;wCACL,OAAO,AAAC,UAAU,GAAG,IAAe;wCACpC,UAAU,CAAC,IAAM,oBAAoB,OAAO,EAAE,MAAM,CAAC,KAAK;wCAC1D,aAAY;wCACZ,WAAU;;;;;;;;;;;;0CAGd,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,MAAK;wCACL,OAAO,AAAC,UAAU,GAAG,IAAe;wCACpC,UAAU,CAAC,IAAM,oBAAoB,OAAO,EAAE,MAAM,CAAC,KAAK;wCAC1D,WAAU;;;;;;;;;;;;;;oBAMjB,SAAS,yBACR;;0CACE,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,MAAK;wCACL,OAAO,AAAC,UAAU,GAAG,IAAe;wCACpC,UAAU,CAAC,IAAM,oBAAoB,OAAO,EAAE,MAAM,CAAC,KAAK;wCAC1D,aAAY;wCACZ,WAAU;;;;;;;;;;;;0CAGd,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAM,WAAU;;0DACf,6LAAC;gDACC,MAAK;gDACL,SAAS,cAAc,QAAQ,IAAI;gDACnC,UAAU,CAAC,IAAM,iBAAiB,YAAY,EAAE,MAAM,CAAC,OAAO;gDAC9D,WAAU;;;;;;0DAEZ,6LAAC;gDAAK,WAAU;0DAAU;;;;;;;;;;;;kDAE5B,6LAAC;wCAAM,WAAU;;0DACf,6LAAC;gDACC,MAAK;gDACL,SAAS,cAAc,IAAI,IAAI;gDAC/B,UAAU,CAAC,IAAM,iBAAiB,QAAQ,EAAE,MAAM,CAAC,OAAO;gDAC1D,WAAU;;;;;;0DAEZ,6LAAC;gDAAK,WAAU;0DAAU;;;;;;;;;;;;kDAE5B,6LAAC;wCAAM,WAAU;;0DACf,6LAAC;gDACC,MAAK;gDACL,SAAS,cAAc,KAAK,IAAI;gDAChC,UAAU,CAAC,IAAM,iBAAiB,SAAS,EAAE,MAAM,CAAC,OAAO;gDAC3D,WAAU;;;;;;0DAEZ,6LAAC;gDAAK,WAAU;0DAAU;;;;;;;;;;;;;;;;;;;;oBAMjC,CAAC,SAAS,gBAAgB,SAAS,UAAU,mBAC5C;;0CACE,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,MAAK;wCACL,OAAO,AAAC,UAAU,MAAM,IAAe;wCACvC,UAAU,CAAC,IAAM,oBAAoB,UAAU,EAAE,MAAM,CAAC,KAAK;wCAC7D,WAAU;;;;;;;;;;;;0CAGd,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,OAAO,AAAC,UAAU,KAAK,IAAe;wCACtC,UAAU,CAAC,IAAM,oBAAoB,SAAS,EAAE,MAAM,CAAC,KAAK;wCAC5D,MAAM;wCACN,WAAU;;;;;;;;;;;;4BAGb,SAAS,4BACR,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,MAAK;wCACL,OAAO,AAAC,UAAU,UAAU,IAAe;wCAC3C,UAAU,CAAC,IAAM,oBAAoB,cAAc,EAAE,MAAM,CAAC,KAAK;wCACjE,WAAU;;;;;;;;;;;;;;oBAOnB,SAAS,+BACR,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,6LAAC;gCACC,MAAK;gCACL,OAAO,AAAC,UAAU,GAAG,IAAe;gCACpC,UAAU,CAAC,IAAM,oBAAoB,OAAO,EAAE,MAAM,CAAC,KAAK;gCAC1D,WAAU;;;;;;;;;;;;oBAKf,SAAS,8BACR;;0CACE,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,MAAK;wCACL,OAAO,AAAC,UAAU,MAAM,IAAe;wCACvC,UAAU,CAAC,IAAM,oBAAoB,UAAU,EAAE,MAAM,CAAC,KAAK;wCAC7D,WAAU;;;;;;;;;;;;0CAGd,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,MAAK;wCACL,OAAO,AAAC,UAAU,MAAM,IAAe;wCACvC,UAAU,CAAC,IAAM,oBAAoB,UAAU,EAAE,MAAM,CAAC,KAAK;wCAC7D,WAAU;;;;;;;;;;;;0CAGd,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,OAAO,AAAC,UAAU,KAAK,IAAe;wCACtC,UAAU,CAAC,IAAM,oBAAoB,SAAS,EAAE,MAAM,CAAC,KAAK;wCAC5D,MAAM;wCACN,WAAU;;;;;;;;;;;;;;oBAMjB,SAAS,0BACR;;0CACE,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,MAAK;wCACL,OAAO,AAAC,UAAU,MAAM,IAAe;wCACvC,UAAU,CAAC,IAAM,oBAAoB,UAAU,EAAE,MAAM,CAAC,KAAK;wCAC7D,WAAU;;;;;;;;;;;;0CAGd,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,6LAAC;wCACC,MAAK;wCACL,OAAO,AAAC,UAAU,SAAS,IAAe;wCAC1C,UAAU,CAAC,IAAM,oBAAoB,aAAa,EAAE,MAAM,CAAC,KAAK;wCAChE,WAAU;;;;;;;;;;;;;;oBAMjB,SAAS,wBACR,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,6LAAC;gCACC,OAAO,AAAC,UAAU,KAAK,IAAe;gCACtC,UAAU,CAAC,IAAM,oBAAoB,SAAS,EAAE,MAAM,CAAC,KAAK;gCAC5D,MAAM;gCACN,WAAU;;;;;;;;;;;;oBAKf,SAAS,8BACR,6LAAC;;0CACC,6LAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,6LAAC;gCACC,MAAK;gCACL,OAAO,QAAQ,MAAM,IAAI;gCACzB,UAAU,CAAC,IAAM,iBAAiB,UAAU,EAAE,MAAM,CAAC,KAAK;gCAC1D,WAAU;;;;;;;;;;;;oBAKf,CAAC,SAAS,UAAU,SAAS,MAAM,mBAClC,6LAAC;;0CACC,6LAAC;gCAAM,WAAU;0CACd,SAAS,SAAS,aAAa;;;;;;4BAEjC,SAAS,uBACR,6LAAC;gCACC,MAAK;gCACL,KAAK;gCACL,KAAK;gCACL,OAAO,cAAc,OAAO,IAAI;gCAChC,UAAU,CAAC,IAAM,iBAAiB,WAAW,SAAS,EAAE,MAAM,CAAC,KAAK;gCACpE,WAAU;;;;;yFAGZ,6LAAC;gCACC,OAAO,QAAQ,aAAa,IAAI;gCAChC,UAAU,CAAC,IAAM,iBAAiB,iBAAiB,EAAE,MAAM,CAAC,KAAK;gCACjE,WAAU;;kDAEV,6LAAC;wCAAO,OAAM;kDAAM;;;;;;kDACpB,6LAAC;wCAAO,OAAM;kDAAS;;;;;;kDACvB,6LAAC;wCAAO,OAAM;kDAAc;;;;;;kDAC5B,6LAAC;wCAAO,OAAM;kDAAiB;;;;;;;;;;;;;;;;;;;;;;;;0BAQzC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAiC;;;;;;kCAC/C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAAmC;;;;;;kDACpD,6LAAC;wCACC,MAAK;wCACL,OAAO,QAAQ,KAAK,IAAI;wCACxB,UAAU,CAAC,IAAM,iBAAiB,SAAS,EAAE,MAAM,CAAC,KAAK;wCACzD,WAAU;;;;;;;;;;;;0CAGd,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAAmC;;;;;;kDACpD,6LAAC;wCACC,MAAK;wCACL,OAAO,QAAQ,UAAU,IAAI;wCAC7B,UAAU,CAAC,IAAM,iBAAiB,cAAc,EAAE,MAAM,CAAC,KAAK;wCAC9D,WAAU;;;;;;;;;;;;0CAGd,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAAmC;;;;;;kDACpD,6LAAC;wCACC,MAAK;wCACL,OAAO,QAAQ,OAAO,IAAI;wCAC1B,UAAU,CAAC,IAAM,iBAAiB,WAAW,EAAE,MAAM,CAAC,KAAK;wCAC3D,aAAY;wCACZ,WAAU;;;;;;;;;;;;0CAGd,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAAmC;;;;;;kDACpD,6LAAC;wCACC,MAAK;wCACL,OAAO,QAAQ,MAAM,IAAI;wCACzB,UAAU,CAAC,IAAM,iBAAiB,UAAU,EAAE,MAAM,CAAC,KAAK;wCAC1D,aAAY;wCACZ,WAAU;;;;;;;;;;;;0CAGd,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAAmC;;;;;;kDACpD,6LAAC;wCACC,MAAK;wCACL,OAAO,QAAQ,YAAY,IAAI;wCAC/B,UAAU,CAAC,IAAM,iBAAiB,gBAAgB,EAAE,MAAM,CAAC,KAAK;wCAChE,aAAY;wCACZ,WAAU;;;;;;;;;;;;0CAGd,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAAmC;;;;;;kDACpD,6LAAC;wCACC,OAAO,QAAQ,MAAM,IAAI;wCACzB,UAAU,CAAC,IAAM,iBAAiB,UAAU,EAAE,MAAM,CAAC,KAAK;wCAC1D,WAAU;;0DAEV,6LAAC;gDAAO,OAAM;0DAAG;;;;;;0DACjB,6LAAC;gDAAO,OAAM;0DAA4B;;;;;;0DAC1C,6LAAC;gDAAO,OAAM;0DAA4B;;;;;;0DAC1C,6LAAC;gDAAO,OAAM;0DAA8B;;;;;;;;;;;;;;;;;;0CAGhD,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAAmC;;;;;;kDACpD,6LAAC;wCACC,OAAO,QAAQ,SAAS,IAAI;wCAC5B,UAAU,CAAC,IAAM,iBAAiB,aAAa,EAAE,MAAM,CAAC,KAAK;wCAC7D,WAAU;;0DAEV,6LAAC;gDAAO,OAAM;0DAAO;;;;;;0DACrB,6LAAC;gDAAO,OAAM;0DAAS;;;;;;0DACvB,6LAAC;gDAAO,OAAM;0DAAQ;;;;;;;;;;;;;;;;;;0CAG1B,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAAmC;;;;;;kDACpD,6LAAC;wCACC,MAAK;wCACL,OAAO,QAAQ,QAAQ,IAAI;wCAC3B,UAAU,CAAC,IAAM,iBAAiB,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC5D,aAAY;wCACZ,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxB;MA5ZM;AAkaC,MAAM,cAA0C,CAAC,EACtD,WAAW,EACX,IAAI,EACL;IACC,IAAI,CAAC,aAAa;QAChB,qBACE,6LAAC;YAAI,WAAU;sBAAsD;;;;;;IAIzE;IAEA,MAAM,mBAAmB;QACvB,SAAS;QACT,QAAQ;QACR,QAAQ;IACV;IAEA,MAAM,eAAe;QACnB,SAAS;QACT,QAAQ;QACR,QAAQ;IACV;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACZ,AAAC;oBAAC;oBAAW;oBAAU;iBAAS,CAAW,GAAG,CAAC,CAAC,kBAC/C,6LAAC;wBAEC,WAAW,CAAC,4CAA4C,EACtD,SAAS,IACL,2BACA,2CACJ;;4BAED,MAAM,YAAY,QAAQ,MAAM,WAAW,OAAO;4BAAK;4BAAE;;uBAPrD;;;;;;;;;;0BAYX,6LAAC;gBAAI,WAAW,GAAG,gBAAgB,CAAC,KAAK,CAAC,4BAA4B,CAAC;0BACrE,cAAA,6LAAC;oBAAI,WAAW,CAAC,oCAAoC,EAAE,YAAY,CAAC,KAAK,EAAE;;wBACxE,SAAS,2BACR,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;;;;;;;;;;;sCAGnB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAA2B,YAAY,MAAM;;;;;;gCAC1D,YAAY,IAAI,EAAE,6BACjB,6LAAC;oCAAE,WAAU;8CAAsB,YAAY,IAAI,CAAC,WAAW;;;;;;8CAEjE,6LAAC;oCAAI,WAAU;8CACZ,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC,uBACxB,6LAAC;4CAAkC,QAAQ;2CAAnB,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjD;MA/Da;AAqEN,MAAM,qBAMR,CAAC,EAAE,aAAa,EAAE,aAAa,EAAE,UAAU,EAAE,UAAU,EAAE,eAAe,EAAE;IAC7E,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAmC;;;;;;0BACjD,6LAAC;gBAAI,WAAU;;oBACZ,cAAc,GAAG,CAAC,CAAC,oBAClB,6LAAC;4BAEC,WAAU;sCAEV,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DACX,IAAI,MAAM,IAAI;;;;;;0DAEjB,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;;4DAAK;4DAAI,IAAI,KAAK,IAAI,iBAAiB,EAAE,kBAAkB;;;;;;;kEAC5D,6LAAC;;4DAAK;4DAAI,IAAI,OAAO,CAAC,MAAM;4DAAC;;;;;;;kEAC7B,6LAAC;wDACC,WAAW,CAAC,iCAAiC,EAC3C,IAAI,MAAM,KAAK,cACX,gCACA,iCACJ;kEAED,IAAI,MAAM,KAAK,cAAc,cAAc;;;;;;;;;;;;;;;;;;kDAIlD,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDACC,SAAS,IAAM,cAAc,IAAI,EAAE;gDACnC,WAAU;0DACX;;;;;;0DAGD,6LAAC;gDACC,SAAS,IAAM,gBAAgB,IAAI,EAAE,EAAE,IAAI,MAAM,KAAK,cAAc,aAAa;gDACjF,WAAU;0DAET,IAAI,MAAM,KAAK,cAAc,gBAAgB;;;;;;0DAEhD,6LAAC;gDACC,SAAS,IAAM,WAAW,IAAI,EAAE;gDAChC,WAAU;0DACX;;;;;;0DAGD,6LAAC;gDACC,SAAS,IAAM,WAAW,IAAI,EAAE;gDAChC,WAAU;0DACX;;;;;;;;;;;;;;;;;;2BA5CA,IAAI,EAAE;;;;;oBAmDd,cAAc,MAAM,KAAK,mBACxB,6LAAC;wBAAI,WAAU;kCAAkC;;;;;;;;;;;;;;;;;;AAO3D;MAxEa;AA0Eb,6CAA6C;AAC7C,uBAAuB;AACvB,6CAA6C;AAE7C,SAAS,2BAA2B,IAAgB;IAClD,MAAM,WAAwD;QAC5D,QAAQ;YAAE,OAAO;QAAe;QAChC,WAAW;YAAE,OAAO;QAAkB;QACtC,OAAO;YAAE,OAAO;QAA+B;QAC/C,QAAQ;YAAE,KAAK;YAAI,KAAK;QAAG;QAC3B,SAAS;YAAE,UAAU,EAAE;QAAC;QACxB,KAAK;YAAE,KAAK;YAAI,KAAK;QAAG;QACxB,OAAO;YAAE,KAAK;QAAG;QACjB,MAAM;YAAE,QAAQ;YAAI,OAAO;QAAG;QAC9B,QAAQ;YAAE,QAAQ;YAAI,WAAW;QAAG;QACpC,MAAM,CAAC;QACP,MAAM,CAAC;QACP,WAAW;YAAE,OAAO,EAAE;QAAC;QACvB,MAAM;YAAE,MAAM,EAAE;QAAC;QACjB,KAAK;YAAE,WAAW,EAAE;QAAC;QACrB,UAAU;YAAE,SAAS,EAAE;QAAC;QACxB,KAAK;YAAE,QAAQ;YAAI,OAAO;YAAI,OAAO;QAAG;QACxC,QAAQ;YAAE,MAAM;QAAG;QACnB,WAAW,CAAC;QACZ,UAAU;YAAE,QAAQ,EAAE;QAAC;QACvB,aAAa;YAAE,aAAa,EAAE;QAAC;QAC/B,cAAc;YAAE,QAAQ,EAAE;QAAC;QAC3B,OAAO;YAAE,OAAO,EAAE;QAAC;QACnB,MAAM;YAAE,OAAO;YAAI,OAAO;QAAG;QAC7B,QAAQ;YAAE,OAAO,EAAE;QAAC;QACpB,UAAU;YAAE,OAAO;YAAG,QAAQ;QAAG;QACjC,YAAY;YAAE,QAAQ;YAAI,aAAa;QAAG;QAC1C,QAAQ;YAAE,QAAQ;YAAI,UAAU;QAAG;QACnC,YAAY,CAAC;QACb,YAAY;YAAE,QAAQ;YAAI,OAAO;QAAG;QACpC,aAAa;YAAE,KAAK;YAAI,KAAK;QAAG;QAChC,YAAY;YAAE,QAAQ;YAAI,OAAO;YAAI,QAAQ;QAAG;QAChD,UAAU;YAAE,QAAQ;YAAI,OAAO;YAAI,YAAY;QAAa;QAC5D,YAAY;YAAE,QAAQ;YAAI,OAAO,EAAE;QAAC;QACpC,QAAQ;YAAE,QAAQ,EAAE;QAAC;IACvB;IACA,OAAO,QAAQ,CAAC,KAAK,IAAI,CAAC;AAC5B;AAEA,SAAS,wBAAwB,IAAgB;IAC/C,MAAM,UAAmD;QACvD,QAAQ,CAAC;QACT,WAAW,CAAC;QACZ,OAAO,CAAC;QACR,QAAQ;YAAE,aAAa;QAAK;QAC5B,SAAS;YAAE,SAAS;QAAE;QACtB,KAAK;YAAE,aAAa;QAAK;QACzB,OAAO;YAAE,UAAU;YAAO,MAAM;YAAO,OAAO;YAAM,UAAU;QAAK;QACnE,MAAM,CAAC;QACP,QAAQ;YAAE,WAAW;QAAK;QAC1B,MAAM;YAAE,SAAS;QAAE;QACnB,MAAM,CAAC;QACP,WAAW,CAAC;QACZ,MAAM,CAAC;QACP,KAAK,CAAC;QACN,UAAU,CAAC;QACX,KAAK,CAAC;QACN,QAAQ,CAAC;QACT,WAAW,CAAC;QACZ,UAAU;YAAE,UAAU;QAAK;QAC3B,aAAa,CAAC;QACd,cAAc,CAAC;QACf,OAAO,CAAC;QACR,MAAM,CAAC;QACP,QAAQ,CAAC;QACT,UAAU;YAAE,UAAU;QAAK;QAC3B,YAAY,CAAC;QACb,QAAQ,CAAC;QACT,YAAY,CAAC;QACb,YAAY,CAAC;QACb,aAAa,CAAC;QACd,YAAY,CAAC;QACb,UAAU;YAAE,WAAW;QAAW;QAClC,YAAY,CAAC;QACb,QAAQ;YAAE,UAAU;QAAK;IAC3B;IACA,OAAO,OAAO,CAAC,KAAK,IAAI,CAAC;AAC3B"}},
    {"offset": {"line": 2528, "column": 0}, "map": {"version":3,"sources":["file:///home/proyectos/nextjs/veterinaria/app/editnoticias/page.tsx"],"sourcesContent":["// /app/editnoticias/page.tsx\n\"use client\";\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  Publicacion,\n  Bloque,\n  STORAGE_KEY,\n  generarId,\n  slugify,\n} from \"../types/noticias\";\nimport {\n  SideMenu,\n  EditorBloques,\n  VistaPrevia,\n  ListaPublicaciones,\n} from \"./components\";\n\n// ==========================================\n// PAGE COMPONENT\n// ==========================================\n\nexport default function EditNoticiasPage(): JSX.Element {\n  // Estados\n  const [publicaciones, setPublicaciones] = useState<Publicacion[]>([]);\n  const [publicacionActiva, setPublicacionActiva] = useState<string | null>(null);\n  const [vistaActiva, setVistaActiva] = useState<\"editor\" | \"lista\" | \"preview\">(\"lista\");\n  const [modoPreview, setModoPreview] = useState<\"desktop\" | \"tablet\" | \"mobile\">(\"desktop\");\n  const [cargando, setCargando] = useState(true);\n  const [guardado, setGuardado] = useState(false);\n\n  // ==========================================\n  // EFECTOS\n  // ==========================================\n\n  // Cargar desde localStorage al iniciar\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n\n    try {\n      const dataGuardada = localStorage.getItem(STORAGE_KEY);\n      if (dataGuardada) {\n        const parsed = JSON.parse(dataGuardada);\n        if (Array.isArray(parsed)) {\n          setPublicaciones(parsed);\n        }\n      }\n    } catch (error) {\n      console.error(\"Error al cargar publicaciones:\", error);\n    } finally {\n      setCargando(false);\n    }\n  }, []);\n\n  // Auto-guardar cuando cambian las publicaciones\n  useEffect(() => {\n    if (typeof window === \"undefined\" || cargando) return;\n\n    const timeoutId = setTimeout(() => {\n      try {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(publicaciones));\n        setGuardado(true);\n        setTimeout(() => setGuardado(false), 2000);\n      } catch (error) {\n        console.error(\"Error al guardar:\", error);\n      }\n    }, 1000);\n\n    return () => clearTimeout(timeoutId);\n  }, [publicaciones, cargando]);\n\n  // ==========================================\n  // HANDLERS\n  // ==========================================\n\n  const crearPublicacion = useCallback(() => {\n    const nuevaPublicacion: Publicacion = {\n      id: generarId(),\n      titulo: \"Nueva Publicaci√≥n\",\n      slug: `nueva-publicacion-${Date.now()}`,\n      estado: \"borrador\",\n      fechaCreacion: new Date().toISOString(),\n      fechaModificacion: new Date().toISOString(),\n      bloques: [],\n      meta: {\n        descripcion: \"\",\n        tags: [],\n      },\n    };\n\n    setPublicaciones((prev) => [nuevaPublicacion, ...prev]);\n    setPublicacionActiva(nuevaPublicacion.id);\n    setVistaActiva(\"editor\");\n  }, []);\n\n  const duplicarPublicacion = useCallback((id: string) => {\n    setPublicaciones((prev) => {\n      const pub = prev.find((p) => p.id === id);\n      if (!pub) return prev;\n\n      const duplicada: Publicacion = {\n        ...pub,\n        id: generarId(),\n        titulo: `${pub.titulo} (Copia)`,\n        slug: `${pub.slug}-copia-${Date.now()}`,\n        estado: \"borrador\",\n        fechaCreacion: new Date().toISOString(),\n        fechaModificacion: new Date().toISOString(),\n      };\n\n      return [duplicada, ...prev];\n    });\n  }, []);\n\n  const eliminarPublicacion = useCallback((id: string) => {\n    if (!confirm(\"¬øEst√°s seguro de eliminar esta publicaci√≥n?\")) return;\n\n    setPublicaciones((prev) => prev.filter((p) => p.id !== id));\n    if (publicacionActiva === id) {\n      setPublicacionActiva(null);\n      setVistaActiva(\"lista\");\n    }\n  }, [publicacionActiva]);\n\n  const cambiarEstadoPublicacion = useCallback(\n    (id: string, estado: \"borrador\" | \"publicado\") => {\n      setPublicaciones((prev) =>\n        prev.map((p) =>\n          p.id === id\n            ? { ...p, estado, fechaModificacion: new Date().toISOString() }\n            : p\n        )\n      );\n    },\n    []\n  );\n\n  const actualizarPublicacion = useCallback((publicacion: Publicacion) => {\n    setPublicaciones((prev) =>\n      prev.map((p) => (p.id === publicacion.id ? publicacion : p))\n    );\n  }, []);\n\n  const seleccionarPublicacion = useCallback((id: string) => {\n    setPublicacionActiva(id);\n    setVistaActiva(\"editor\");\n  }, []);\n\n  const guardarManual = useCallback(() => {\n    if (typeof window === \"undefined\") return;\n    \n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(publicaciones));\n      setGuardado(true);\n      setTimeout(() => setGuardado(false), 2000);\n    } catch (error) {\n      console.error(\"Error al guardar manualmente:\", error);\n      alert(\"Error al guardar. Intenta de nuevo.\");\n    }\n  }, [publicaciones]);\n\n  // ==========================================\n  // RENDER HELPERS\n  // ==========================================\n\n  const publicacionActual = publicaciones.find(\n    (p) => p.id === publicacionActiva\n  );\n\n  if (cargando) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Cargando editor...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-20\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <h1 className=\"text-xl font-bold text-gray-900\">EditNoticias</h1>\n            <span className=\"text-sm text-gray-500 hidden sm:inline\">\n              Constructor Visual\n            </span>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            {guardado && (\n              <span className=\"text-sm text-green-600 font-medium animate-pulse\">\n                ‚úì Guardado\n              </span>\n            )}\n            <span className=\"text-sm text-gray-500\">\n              {publicaciones.length} publicaciones\n            </span>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-32 lg:pr-80\">\n        {vistaActiva === \"lista\" && (\n          <ListaPublicaciones\n            publicaciones={publicaciones}\n            onSeleccionar={seleccionarPublicacion}\n            onEliminar={eliminarPublicacion}\n            onDuplicar={duplicarPublicacion}\n            onCambiarEstado={cambiarEstadoPublicacion}\n          />\n        )}\n\n        {vistaActiva === \"editor\" && publicacionActual && (\n          <EditorBloques\n            publicacion={publicacionActual}\n            onChange={actualizarPublicacion}\n            onGuardar={guardarManual}\n          />\n        )}\n\n        {vistaActiva === \"editor\" && !publicacionActual && (\n          <div className=\"text-center py-12\">\n            <p className=\"text-gray-500 mb-4\">Selecciona una publicaci√≥n para editar</p>\n            <button\n              onClick={() => setVistaActiva(\"lista\")}\n              className=\"text-blue-600 hover:text-blue-700 font-medium\"\n            >\n              Ver todas las publicaciones ‚Üí\n            </button>\n          </div>\n        )}\n\n        {vistaActiva === \"preview\" && (\n          <VistaPrevia publicacion={publicacionActual} modo={modoPreview} />\n        )}\n      </main>\n\n      {/* Side Menu */}\n      <SideMenu\n        vistaActiva={vistaActiva}\n        onCambiarVista={(vista) => setVistaActiva(vista as typeof vistaActiva)}\n        publicaciones={publicaciones}\n        publicacionActiva={publicacionActiva}\n        onSeleccionarPublicacion={seleccionarPublicacion}\n        onCrearPublicacion={crearPublicacion}\n        onDuplicarPublicacion={duplicarPublicacion}\n        onEliminarPublicacion={eliminarPublicacion}\n        onCambiarEstado={cambiarEstadoPublicacion}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}